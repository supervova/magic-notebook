!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(e=e||self).Util=t(e.jQuery)}(this,function(o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var t="transitionend";function e(e){var t=this,n=!1;return o(this).one(l.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||l.triggerTransitionEnd(t)},e),this}var l={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=o(e).css("transition-duration"),n=o(e).css("transition-delay"),i=parseFloat(t),r=parseFloat(n);return i||r?(t=t.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(t)+parseFloat(n))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){o(e).trigger(t)},supportsTransitionEnd:function(){return Boolean(t)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=t[i],s=o&&l.isElement(o)?"element":(a=o,{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(s))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}var a},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"!=typeof e.getRootNode)return e instanceof ShadowRoot?e:e.parentNode?l.findShadowRoot(e.parentNode):null;var t=e.getRootNode();return t instanceof ShadowRoot?t:null}};return o.fn.emulateTransitionEnd=e,o.event.special[l.TRANSITION_END]={bindType:t,delegateType:t,handle:function(e){if(o(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},l}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],t):(e=e||self).Carousel=t(e.jQuery,e.Util)}(this,function(_,m){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,n,i;t=r,i=o[n=e],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i})}return r}_=_&&_.hasOwnProperty("default")?_.default:_,m=m&&m.hasOwnProperty("default")?m.default:m;var a="carousel",l="bs.carousel",c="."+l,e=".data-api",t=_.fn[a],u={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},h={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},g="next",d="prev",p="left",v="right",y={SLIDE:"slide"+c,SLID:"slid"+c,KEYDOWN:"keydown"+c,MOUSEENTER:"mouseenter"+c,MOUSELEAVE:"mouseleave"+c,TOUCHSTART:"touchstart"+c,TOUCHMOVE:"touchmove"+c,TOUCHEND:"touchend"+c,POINTERDOWN:"pointerdown"+c,POINTERUP:"pointerup"+c,DRAG_START:"dragstart"+c,LOAD_DATA_API:"load"+c+e,CLICK_DATA_API:"click"+c+e},f="carousel",b="active",E="slide",S="carousel-item-right",w="carousel-item-left",I="carousel-item-next",D="carousel-item-prev",C="pointer-event",O=".active",T=".active.carousel-item",A=".carousel-item",N=".carousel-item img",k=".carousel-item-next, .carousel-item-prev",P=".carousel-indicators",n="[data-slide], [data-slide-to]",o='[data-ride="carousel"]',j={TOUCH:"touch",PEN:"pen"},R=function(){function o(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(P),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e,t,n,i=o.prototype;return i.next=function(){this._isSliding||this._slide(g)},i.nextWhenVisible=function(){!document.hidden&&_(this._element).is(":visible")&&"hidden"!==_(this._element).css("visibility")&&this.next()},i.prev=function(){this._isSliding||this._slide(d)},i.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(k)&&(m.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},i.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},i.to=function(e){var t=this;this._activeElement=this._element.querySelector(T);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)_(this._element).one(y.SLID,function(){return t.to(e)});else{if(n===e)return this.pause(),void this.cycle();var i=n<e?g:d;this._slide(i,this._items[e])}},i.dispose=function(){_(this._element).off(c),_.removeData(this._element,l),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},i._getConfig=function(e){return e=s({},u,e),m.typeCheckConfig(a,e,h),e},i._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;0<t&&this.prev(),t<0&&this.next()}},i._addEventListeners=function(){var t=this;this._config.keyboard&&_(this._element).on(y.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&_(this._element).on(y.MOUSEENTER,function(e){return t.pause(e)}).on(y.MOUSELEAVE,function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},i._addTouchEventListeners=function(){var n=this;if(this._touchSupported){var t=function(e){n._pointerEvent&&j[e.originalEvent.pointerType.toUpperCase()]?n.touchStartX=e.originalEvent.clientX:n._pointerEvent||(n.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){n._pointerEvent&&j[e.originalEvent.pointerType.toUpperCase()]&&(n.touchDeltaX=e.originalEvent.clientX-n.touchStartX),n._handleSwipe(),"hover"===n._config.pause&&(n.pause(),n.touchTimeout&&clearTimeout(n.touchTimeout),n.touchTimeout=setTimeout(function(e){return n.cycle(e)},500+n._config.interval))};_(this._element.querySelectorAll(N)).on(y.DRAG_START,function(e){return e.preventDefault()}),this._pointerEvent?(_(this._element).on(y.POINTERDOWN,function(e){return t(e)}),_(this._element).on(y.POINTERUP,function(e){return i(e)}),this._element.classList.add(C)):(_(this._element).on(y.TOUCHSTART,function(e){return t(e)}),_(this._element).on(y.TOUCHMOVE,function(e){var t;(t=e).originalEvent.touches&&1<t.originalEvent.touches.length?n.touchDeltaX=0:n.touchDeltaX=t.originalEvent.touches[0].clientX-n.touchStartX}),_(this._element).on(y.TOUCHEND,function(e){return i(e)}))}},i._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},i._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(A)):[],this._items.indexOf(e)},i._getItemByDirection=function(e,t){var n=e===g,i=e===d,r=this._getItemIndex(t),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return t;var s=(r+(e===d?-1:1))%this._items.length;return-1==s?this._items[this._items.length-1]:this._items[s]},i._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector(T)),r=_.Event(y.SLIDE,{relatedTarget:e,direction:t,from:i,to:n});return _(this._element).trigger(r),r},i._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(O));_(t).removeClass(b);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&_(n).addClass(b)}},i._slide=function(e,t){var n,i,r,o=this,s=this._element.querySelector(T),a=this._getItemIndex(s),l=t||s&&this._getItemByDirection(e,s),c=this._getItemIndex(l),u=Boolean(this._interval);if(r=e===g?(n=w,i=I,p):(n=S,i=D,v),l&&_(l).hasClass(b))this._isSliding=!1;else if(!this._triggerSlideEvent(l,r).isDefaultPrevented()&&s&&l){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(l);var h=_.Event(y.SLID,{relatedTarget:l,direction:r,from:a,to:c});if(_(this._element).hasClass(E)){_(l).addClass(i),m.reflow(l),_(s).addClass(n),_(l).addClass(n);var d=parseInt(l.getAttribute("data-interval"),10);d?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=d):this._config.interval=this._config.defaultInterval||this._config.interval;var f=m.getTransitionDurationFromElement(s);_(s).one(m.TRANSITION_END,function(){_(l).removeClass(n+" "+i).addClass(b),_(s).removeClass(b+" "+i+" "+n),o._isSliding=!1,setTimeout(function(){return _(o._element).trigger(h)},0)}).emulateTransitionEnd(f)}else _(s).removeClass(b),_(l).addClass(b),this._isSliding=!1,_(this._element).trigger(h);u&&this.cycle()}},o._jQueryInterface=function(i){return this.each(function(){var e=_(this).data(l),t=s({},u,_(this).data());"object"==typeof i&&(t=s({},t,i));var n="string"==typeof i?i:t.slide;if(e||(e=new o(this,t),_(this).data(l,e)),"number"==typeof i)e.to(i);else if("string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}else t.interval&&t.ride&&(e.pause(),e.cycle())})},o._dataApiClickHandler=function(e){var t=m.getSelectorFromElement(this);if(t){var n=_(t)[0];if(n&&_(n).hasClass(f)){var i=s({},_(n).data(),_(this).data()),r=this.getAttribute("data-slide-to");r&&(i.interval=!1),o._jQueryInterface.call(_(n),i),r&&_(n).data(l).to(r),e.preventDefault()}}},e=o,n=[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return u}}],(t=null)&&r(e.prototype,t),n&&r(e,n),o}();return _(document).on(y.CLICK_DATA_API,n,R._dataApiClickHandler),_(window).on(y.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(o)),t=0,n=e.length;t<n;t++){var i=_(e[t]);R._jQueryInterface.call(i,i.data())}}),_.fn[a]=R._jQueryInterface,_.fn[a].Constructor=R,_.fn[a].noConflict=function(){return _.fn[a]=t,R._jQueryInterface},R}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("popper.js"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js","./util.js"],t):(e=e||self).Dropdown=t(e.jQuery,e.Popper,e.Util)}(this,function(u,o,s){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,n,i;t=r,i=o[n=e],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i})}return r}u=u&&u.hasOwnProperty("default")?u.default:u,o=o&&o.hasOwnProperty("default")?o.default:o,s=s&&s.hasOwnProperty("default")?s.default:s;var l="dropdown",h="bs.dropdown",d="."+h,e=".data-api",t=u.fn[l],f=new RegExp("38|40|27"),_={HIDE:"hide"+d,HIDDEN:"hidden"+d,SHOW:"show"+d,SHOWN:"shown"+d,CLICK:"click"+d,CLICK_DATA_API:"click"+d+e,KEYDOWN_DATA_API:"keydown"+d+e,KEYUP_DATA_API:"keyup"+d+e},m="disabled",g="show",p="dropup",v="dropright",y="dropleft",b="dropdown-menu-right",E="position-static",S='[data-toggle="dropdown"]',n=".dropdown form",w=".dropdown-menu",I=".navbar-nav",D=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",C="top-start",O="top-end",T="bottom-start",A="bottom-end",N="right-start",k="left-start",P={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},j={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},i=function(){function c(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e,t,n,i=c.prototype;return i.toggle=function(){if(!this._element.disabled&&!u(this._element).hasClass(m)){var e=c._getParentFromElement(this._element),t=u(this._menu).hasClass(g);if(c._clearMenus(),!t){var n={relatedTarget:this._element},i=u.Event(_.SHOW,n);if(u(e).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar){if(void 0===o)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var r=this._element;"parent"===this._config.reference?r=e:s.isElement(this._config.reference)&&(r=this._config.reference,void 0!==this._config.reference.jquery&&(r=this._config.reference[0])),"scrollParent"!==this._config.boundary&&u(e).addClass(E),this._popper=new o(r,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===u(e).closest(I).length&&u(document.body).children().on("mouseover",null,u.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),u(this._menu).toggleClass(g),u(e).toggleClass(g).trigger(u.Event(_.SHOWN,n))}}}},i.show=function(){if(!(this._element.disabled||u(this._element).hasClass(m)||u(this._menu).hasClass(g))){var e={relatedTarget:this._element},t=u.Event(_.SHOW,e),n=c._getParentFromElement(this._element);u(n).trigger(t),t.isDefaultPrevented()||(u(this._menu).toggleClass(g),u(n).toggleClass(g).trigger(u.Event(_.SHOWN,e)))}},i.hide=function(){if(!this._element.disabled&&!u(this._element).hasClass(m)&&u(this._menu).hasClass(g)){var e={relatedTarget:this._element},t=u.Event(_.HIDE,e),n=c._getParentFromElement(this._element);u(n).trigger(t),t.isDefaultPrevented()||(u(this._menu).toggleClass(g),u(n).toggleClass(g).trigger(u.Event(_.HIDDEN,e)))}},i.dispose=function(){u.removeData(this._element,h),u(this._element).off(d),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;u(this._element).on(_.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},i._getConfig=function(e){return e=a({},this.constructor.Default,u(this._element).data(),e),s.typeCheckConfig(l,e,this.constructor.DefaultType),e},i._getMenuElement=function(){if(!this._menu){var e=c._getParentFromElement(this._element);e&&(this._menu=e.querySelector(w))}return this._menu},i._getPlacement=function(){var e=u(this._element.parentNode),t=T;return e.hasClass(p)?(t=C,u(this._menu).hasClass(b)&&(t=O)):e.hasClass(v)?t=N:e.hasClass(y)?t=k:u(this._menu).hasClass(b)&&(t=A),t},i._detectNavbar=function(){return 0<u(this._element).closest(".navbar").length},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=a({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),e},c._jQueryInterface=function(t){return this.each(function(){var e=u(this).data(h);if(e||(e=new c(this,"object"==typeof t?t:null),u(this).data(h,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},c._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=[].slice.call(document.querySelectorAll(S)),n=0,i=t.length;n<i;n++){var r=c._getParentFromElement(t[n]),o=u(t[n]).data(h),s={relatedTarget:t[n]};if(e&&"click"===e.type&&(s.clickEvent=e),o){var a=o._menu;if(u(r).hasClass(g)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&u.contains(r,e.target))){var l=u.Event(_.HIDE,s);u(r).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&u(document.body).children().off("mouseover",null,u.noop),t[n].setAttribute("aria-expanded","false"),u(a).removeClass(g),u(r).removeClass(g).trigger(u.Event(_.HIDDEN,s)))}}}},c._getParentFromElement=function(e){var t,n=s.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},c._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||u(e.target).closest(w).length)):f.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!u(this).hasClass(m))){var t=c._getParentFromElement(this),n=u(t).hasClass(g);if(n&&(!n||27!==e.which&&32!==e.which)){var i=[].slice.call(t.querySelectorAll(D));if(0!==i.length){var r=i.indexOf(e.target);38===e.which&&0<r&&r--,40===e.which&&r<i.length-1&&r++,r<0&&(r=0),i[r].focus()}}else{if(27===e.which){var o=t.querySelector(S);u(o).trigger("focus")}u(this).trigger("click")}}},e=c,n=[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return P}},{key:"DefaultType",get:function(){return j}}],(t=null)&&r(e.prototype,t),n&&r(e,n),c}();return u(document).on(_.KEYDOWN_DATA_API,S,i._dataApiKeydownHandler).on(_.KEYDOWN_DATA_API,w,i._dataApiKeydownHandler).on(_.CLICK_DATA_API+" "+_.KEYUP_DATA_API,i._clearMenus).on(_.CLICK_DATA_API,S,function(e){e.preventDefault(),e.stopPropagation(),i._jQueryInterface.call(u(this),"toggle")}).on(_.CLICK_DATA_API,n,function(e){e.stopPropagation()}),u.fn[l]=i._jQueryInterface,u.fn[l].Constructor=i,u.fn[l].noConflict=function(){return u.fn[l]=t,i._jQueryInterface},i}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],t):(e=e||self).Modal=t(e.jQuery,e.Util)}(this,function(s,a){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,n,i;t=r,i=o[n=e],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i})}return r}s=s&&s.hasOwnProperty("default")?s.default:s,a=a&&a.hasOwnProperty("default")?a.default:a;var c="modal",u="bs.modal",h="."+u,e=s.fn[c],d={backdrop:!0,keyboard:!0,focus:!0,show:!0},f={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},_={HIDE:"hide"+h,HIDDEN:"hidden"+h,SHOW:"show"+h,SHOWN:"shown"+h,FOCUSIN:"focusin"+h,RESIZE:"resize"+h,CLICK_DISMISS:"click.dismiss"+h,KEYDOWN_DISMISS:"keydown.dismiss"+h,MOUSEUP_DISMISS:"mouseup.dismiss"+h,MOUSEDOWN_DISMISS:"mousedown.dismiss"+h,CLICK_DATA_API:"click"+h+".data-api"},m="modal-dialog-scrollable",g="modal-scrollbar-measure",p="modal-backdrop",v="modal-open",y="fade",b="show",E=".modal-dialog",S=".modal-body",t='[data-toggle="modal"]',w='[data-dismiss="modal"]',I=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",D=".sticky-top",C=function(){function r(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(E),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e,t,n,i=r.prototype;return i.toggle=function(e){return this._isShown?this.hide():this.show(e)},i.show=function(e){var t=this;if(!this._isShown&&!this._isTransitioning){s(this._element).hasClass(y)&&(this._isTransitioning=!0);var n=s.Event(_.SHOW,{relatedTarget:e});s(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),s(this._element).on(_.CLICK_DISMISS,w,function(e){return t.hide(e)}),s(this._dialog).on(_.MOUSEDOWN_DISMISS,function(){s(t._element).one(_.MOUSEUP_DISMISS,function(e){s(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return t._showElement(e)}))}},i.hide=function(e){var t=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var n=s.Event(_.HIDE);if(s(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=s(this._element).hasClass(y);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),s(document).off(_.FOCUSIN),s(this._element).removeClass(b),s(this._element).off(_.CLICK_DISMISS),s(this._dialog).off(_.MOUSEDOWN_DISMISS),i){var r=a.getTransitionDurationFromElement(this._element);s(this._element).one(a.TRANSITION_END,function(e){return t._hideModal(e)}).emulateTransitionEnd(r)}else this._hideModal()}}},i.dispose=function(){[window,this._element,this._dialog].forEach(function(e){return s(e).off(h)}),s(document).off(_.FOCUSIN),s.removeData(this._element,u),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},i.handleUpdate=function(){this._adjustDialog()},i._getConfig=function(e){return e=l({},d,e),a.typeCheckConfig(c,e,f),e},i._showElement=function(e){var t=this,n=s(this._element).hasClass(y);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),s(this._dialog).hasClass(m)?this._dialog.querySelector(S).scrollTop=0:this._element.scrollTop=0,n&&a.reflow(this._element),s(this._element).addClass(b),this._config.focus&&this._enforceFocus();function i(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,s(t._element).trigger(r)}var r=s.Event(_.SHOWN,{relatedTarget:e});if(n){var o=a.getTransitionDurationFromElement(this._dialog);s(this._dialog).one(a.TRANSITION_END,i).emulateTransitionEnd(o)}else i()},i._enforceFocus=function(){var t=this;s(document).off(_.FOCUSIN).on(_.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===s(t._element).has(e.target).length&&t._element.focus()})},i._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?s(this._element).on(_.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||s(this._element).off(_.KEYDOWN_DISMISS)},i._setResizeEvent=function(){var t=this;this._isShown?s(window).on(_.RESIZE,function(e){return t.handleUpdate(e)}):s(window).off(_.RESIZE)},i._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){s(document.body).removeClass(v),e._resetAdjustments(),e._resetScrollbar(),s(e._element).trigger(_.HIDDEN)})},i._removeBackdrop=function(){this._backdrop&&(s(this._backdrop).remove(),this._backdrop=null)},i._showBackdrop=function(e){var t=this,n=s(this._element).hasClass(y)?y:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=p,n&&this._backdrop.classList.add(n),s(this._backdrop).appendTo(document.body),s(this._element).on(_.CLICK_DISMISS,function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._element.focus():t.hide())}),n&&a.reflow(this._backdrop),s(this._backdrop).addClass(b),!e)return;if(!n)return void e();var i=a.getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(a.TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){s(this._backdrop).removeClass(b);var r=function(){t._removeBackdrop(),e&&e()};if(s(this._element).hasClass(y)){var o=a.getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(a.TRANSITION_END,r).emulateTransitionEnd(o)}else r()}else e&&e()},i._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},i._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},i._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},i._setScrollbar=function(){var r=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(I)),t=[].slice.call(document.querySelectorAll(D));s(e).each(function(e,t){var n=t.style.paddingRight,i=s(t).css("padding-right");s(t).data("padding-right",n).css("padding-right",parseFloat(i)+r._scrollbarWidth+"px")}),s(t).each(function(e,t){var n=t.style.marginRight,i=s(t).css("margin-right");s(t).data("margin-right",n).css("margin-right",parseFloat(i)-r._scrollbarWidth+"px")});var n=document.body.style.paddingRight,i=s(document.body).css("padding-right");s(document.body).data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}s(document.body).addClass(v)},i._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(I));s(e).each(function(e,t){var n=s(t).data("padding-right");s(t).removeData("padding-right"),t.style.paddingRight=n||""});var t=[].slice.call(document.querySelectorAll(""+D));s(t).each(function(e,t){var n=s(t).data("margin-right");void 0!==n&&s(t).css("margin-right",n).removeData("margin-right")});var n=s(document.body).data("padding-right");s(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},i._getScrollbarWidth=function(){var e=document.createElement("div");e.className=g,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},r._jQueryInterface=function(n,i){return this.each(function(){var e=s(this).data(u),t=l({},d,s(this).data(),"object"==typeof n&&n?n:{});if(e||(e=new r(this,t),s(this).data(u,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](i)}else t.show&&e.show(i)})},e=r,n=[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return d}}],(t=null)&&o(e.prototype,t),n&&o(e,n),r}();return s(document).on(_.CLICK_DATA_API,t,function(e){var t,n=this,i=a.getSelectorFromElement(this);i&&(t=document.querySelector(i));var r=s(t).data(u)?"toggle":l({},s(t).data(),s(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var o=s(t).one(_.SHOW,function(e){e.isDefaultPrevented()||o.one(_.HIDDEN,function(){s(n).is(":visible")&&n.focus()})});C._jQueryInterface.call(s(t),r,this)}),s.fn[c]=C._jQueryInterface,s.fn[c].Constructor=C,s.fn[c].noConflict=function(){return s.fn[c]=e,C._jQueryInterface},C});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiLCJjYXJvdXNlbC5qcyIsImRyb3Bkb3duLmpzIiwibW9kYWwuanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIlV0aWwiLCJqUXVlcnkiLCJ0aGlzIiwiJCIsImhhc093blByb3BlcnR5IiwiVFJBTlNJVElPTl9FTkQiLCJ0cmFuc2l0aW9uRW5kRW11bGF0b3IiLCJkdXJhdGlvbiIsIl90aGlzIiwiY2FsbGVkIiwib25lIiwic2V0VGltZW91dCIsInRyaWdnZXJUcmFuc2l0aW9uRW5kIiwiZ2V0VUlEIiwicHJlZml4IiwiTWF0aCIsInJhbmRvbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3RvckZyb21FbGVtZW50IiwiZWxlbWVudCIsInNlbGVjdG9yIiwiZ2V0QXR0cmlidXRlIiwiaHJlZkF0dHIiLCJ0cmltIiwicXVlcnlTZWxlY3RvciIsImVyciIsImdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50IiwidHJhbnNpdGlvbkR1cmF0aW9uIiwiY3NzIiwidHJhbnNpdGlvbkRlbGF5IiwiZmxvYXRUcmFuc2l0aW9uRHVyYXRpb24iLCJwYXJzZUZsb2F0IiwiZmxvYXRUcmFuc2l0aW9uRGVsYXkiLCJzcGxpdCIsInJlZmxvdyIsIm9mZnNldEhlaWdodCIsInRyaWdnZXIiLCJzdXBwb3J0c1RyYW5zaXRpb25FbmQiLCJCb29sZWFuIiwiaXNFbGVtZW50Iiwib2JqIiwibm9kZVR5cGUiLCJ0eXBlQ2hlY2tDb25maWciLCJjb21wb25lbnROYW1lIiwiY29uZmlnIiwiY29uZmlnVHlwZXMiLCJwcm9wZXJ0eSIsIk9iamVjdCIsInByb3RvdHlwZSIsImNhbGwiLCJleHBlY3RlZFR5cGVzIiwidmFsdWUiLCJ2YWx1ZVR5cGUiLCJ0b1N0cmluZyIsIm1hdGNoIiwidG9Mb3dlckNhc2UiLCJSZWdFeHAiLCJ0ZXN0IiwiRXJyb3IiLCJ0b1VwcGVyQ2FzZSIsImZpbmRTaGFkb3dSb290IiwiZG9jdW1lbnRFbGVtZW50IiwiYXR0YWNoU2hhZG93IiwiZ2V0Um9vdE5vZGUiLCJTaGFkb3dSb290IiwicGFyZW50Tm9kZSIsInJvb3QiLCJmbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiZXZlbnQiLCJzcGVjaWFsIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJ0YXJnZXQiLCJpcyIsImhhbmRsZU9iaiIsImhhbmRsZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsIkNhcm91c2VsIiwiX2RlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJfb2JqZWN0U3ByZWFkIiwic291cmNlIiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjb25jYXQiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJmb3JFYWNoIiwiTkFNRSIsIkRBVEFfS0VZIiwiRVZFTlRfS0VZIiwiREFUQV9BUElfS0VZIiwiSlFVRVJZX05PX0NPTkZMSUNUIiwiRGVmYXVsdCIsImludGVydmFsIiwia2V5Ym9hcmQiLCJzbGlkZSIsInBhdXNlIiwid3JhcCIsInRvdWNoIiwiRGVmYXVsdFR5cGUiLCJEaXJlY3Rpb24iLCJFdmVudCIsIlNMSURFIiwiU0xJRCIsIktFWURPV04iLCJNT1VTRUVOVEVSIiwiTU9VU0VMRUFWRSIsIlRPVUNIU1RBUlQiLCJUT1VDSE1PVkUiLCJUT1VDSEVORCIsIlBPSU5URVJET1dOIiwiUE9JTlRFUlVQIiwiRFJBR19TVEFSVCIsIkxPQURfREFUQV9BUEkiLCJDTElDS19EQVRBX0FQSSIsIkNsYXNzTmFtZSIsIlNlbGVjdG9yIiwiUG9pbnRlclR5cGUiLCJUT1VDSCIsIlBFTiIsIl9pdGVtcyIsIl9pbnRlcnZhbCIsIl9hY3RpdmVFbGVtZW50IiwiX2lzUGF1c2VkIiwiX2lzU2xpZGluZyIsInRvdWNoVGltZW91dCIsInRvdWNoU3RhcnRYIiwidG91Y2hEZWx0YVgiLCJfY29uZmlnIiwiX2dldENvbmZpZyIsIl9lbGVtZW50IiwiX2luZGljYXRvcnNFbGVtZW50IiwiX3RvdWNoU3VwcG9ydGVkIiwibmF2aWdhdG9yIiwibWF4VG91Y2hQb2ludHMiLCJfcG9pbnRlckV2ZW50Iiwid2luZG93IiwiUG9pbnRlckV2ZW50IiwiTVNQb2ludGVyRXZlbnQiLCJfYWRkRXZlbnRMaXN0ZW5lcnMiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9wcm90byIsIm5leHQiLCJfc2xpZGUiLCJuZXh0V2hlblZpc2libGUiLCJoaWRkZW4iLCJwcmV2IiwiY3ljbGUiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ2aXNpYmlsaXR5U3RhdGUiLCJiaW5kIiwidG8iLCJpbmRleCIsImFjdGl2ZUluZGV4IiwiX2dldEl0ZW1JbmRleCIsImRpcmVjdGlvbiIsImRpc3Bvc2UiLCJvZmYiLCJyZW1vdmVEYXRhIiwiX2hhbmRsZVN3aXBlIiwiYWJzRGVsdGF4IiwiYWJzIiwiX3RoaXMyIiwib24iLCJfa2V5ZG93biIsIl9hZGRUb3VjaEV2ZW50TGlzdGVuZXJzIiwiX3RoaXMzIiwic3RhcnQiLCJvcmlnaW5hbEV2ZW50IiwicG9pbnRlclR5cGUiLCJjbGllbnRYIiwidG91Y2hlcyIsImVuZCIsImNsZWFyVGltZW91dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlIiwicHJldmVudERlZmF1bHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0YWdOYW1lIiwid2hpY2giLCJzbGljZSIsImluZGV4T2YiLCJfZ2V0SXRlbUJ5RGlyZWN0aW9uIiwiYWN0aXZlRWxlbWVudCIsImlzTmV4dERpcmVjdGlvbiIsImlzUHJldkRpcmVjdGlvbiIsImxhc3RJdGVtSW5kZXgiLCJpdGVtSW5kZXgiLCJfdHJpZ2dlclNsaWRlRXZlbnQiLCJyZWxhdGVkVGFyZ2V0IiwiZXZlbnREaXJlY3Rpb25OYW1lIiwidGFyZ2V0SW5kZXgiLCJmcm9tSW5kZXgiLCJzbGlkZUV2ZW50IiwiZnJvbSIsIl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50IiwiaW5kaWNhdG9ycyIsInJlbW92ZUNsYXNzIiwibmV4dEluZGljYXRvciIsImNoaWxkcmVuIiwiYWRkQ2xhc3MiLCJkaXJlY3Rpb25hbENsYXNzTmFtZSIsIm9yZGVyQ2xhc3NOYW1lIiwiX3RoaXM0IiwiYWN0aXZlRWxlbWVudEluZGV4IiwibmV4dEVsZW1lbnQiLCJuZXh0RWxlbWVudEluZGV4IiwiaXNDeWNsaW5nIiwiaGFzQ2xhc3MiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJzbGlkRXZlbnQiLCJuZXh0RWxlbWVudEludGVydmFsIiwicGFyc2VJbnQiLCJkZWZhdWx0SW50ZXJ2YWwiLCJfalF1ZXJ5SW50ZXJmYWNlIiwiZWFjaCIsImRhdGEiLCJhY3Rpb24iLCJUeXBlRXJyb3IiLCJyaWRlIiwiX2RhdGFBcGlDbGlja0hhbmRsZXIiLCJzbGlkZUluZGV4IiwiZ2V0IiwiY2Fyb3VzZWxzIiwibGVuIiwiJGNhcm91c2VsIiwibm9Db25mbGljdCIsIkRyb3Bkb3duIiwiUG9wcGVyIiwiUkVHRVhQX0tFWURPV04iLCJBUlJPV19VUF9LRVlDT0RFIiwiSElERSIsIkhJRERFTiIsIlNIT1ciLCJTSE9XTiIsIkNMSUNLIiwiS0VZRE9XTl9EQVRBX0FQSSIsIktFWVVQX0RBVEFfQVBJIiwiQXR0YWNobWVudE1hcCIsIm9mZnNldCIsImZsaXAiLCJib3VuZGFyeSIsInJlZmVyZW5jZSIsImRpc3BsYXkiLCJfcG9wcGVyIiwiX21lbnUiLCJfZ2V0TWVudUVsZW1lbnQiLCJfaW5OYXZiYXIiLCJfZGV0ZWN0TmF2YmFyIiwidG9nZ2xlIiwiZGlzYWJsZWQiLCJwYXJlbnQiLCJfZ2V0UGFyZW50RnJvbUVsZW1lbnQiLCJpc0FjdGl2ZSIsIl9jbGVhck1lbnVzIiwic2hvd0V2ZW50IiwicmVmZXJlbmNlRWxlbWVudCIsImpxdWVyeSIsIl9nZXRQb3BwZXJDb25maWciLCJjbG9zZXN0IiwiYm9keSIsIm5vb3AiLCJmb2N1cyIsInNldEF0dHJpYnV0ZSIsInRvZ2dsZUNsYXNzIiwic2hvdyIsImhpZGUiLCJoaWRlRXZlbnQiLCJkZXN0cm95IiwidXBkYXRlIiwic2NoZWR1bGVVcGRhdGUiLCJzdG9wUHJvcGFnYXRpb24iLCJjb25zdHJ1Y3RvciIsIl9nZXRQbGFjZW1lbnQiLCIkcGFyZW50RHJvcGRvd24iLCJwbGFjZW1lbnQiLCJfZ2V0T2Zmc2V0Iiwib2Zmc2V0cyIsInBvcHBlckNvbmZpZyIsIm1vZGlmaWVycyIsImVuYWJsZWQiLCJwcmV2ZW50T3ZlcmZsb3ciLCJib3VuZGFyaWVzRWxlbWVudCIsImFwcGx5U3R5bGUiLCJ0eXBlIiwidG9nZ2xlcyIsImNvbnRleHQiLCJjbGlja0V2ZW50IiwiZHJvcGRvd25NZW51IiwiY29udGFpbnMiLCJfZGF0YUFwaUtleWRvd25IYW5kbGVyIiwiaXRlbXMiLCJNb2RhbCIsImJhY2tkcm9wIiwiRk9DVVNJTiIsIlJFU0laRSIsIkNMSUNLX0RJU01JU1MiLCJLRVlET1dOX0RJU01JU1MiLCJNT1VTRVVQX0RJU01JU1MiLCJNT1VTRURPV05fRElTTUlTUyIsIl9kaWFsb2ciLCJfYmFja2Ryb3AiLCJfaXNTaG93biIsIl9pc0JvZHlPdmVyZmxvd2luZyIsIl9pZ25vcmVCYWNrZHJvcENsaWNrIiwiX2lzVHJhbnNpdGlvbmluZyIsIl9zY3JvbGxiYXJXaWR0aCIsIl9jaGVja1Njcm9sbGJhciIsIl9zZXRTY3JvbGxiYXIiLCJfYWRqdXN0RGlhbG9nIiwiX3NldEVzY2FwZUV2ZW50IiwiX3NldFJlc2l6ZUV2ZW50IiwiX3Nob3dCYWNrZHJvcCIsIl9zaG93RWxlbWVudCIsInRyYW5zaXRpb24iLCJfaGlkZU1vZGFsIiwiaHRtbEVsZW1lbnQiLCJoYW5kbGVVcGRhdGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwiYXBwZW5kQ2hpbGQiLCJzdHlsZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNjcm9sbFRvcCIsIl9lbmZvcmNlRm9jdXMiLCJ0cmFuc2l0aW9uQ29tcGxldGUiLCJzaG93bkV2ZW50IiwiaGFzIiwiX3RoaXM1IiwiX3RoaXM2IiwiX3RoaXM3IiwiX3Jlc2V0QWRqdXN0bWVudHMiLCJfcmVzZXRTY3JvbGxiYXIiLCJfcmVtb3ZlQmFja2Ryb3AiLCJyZW1vdmUiLCJjYWxsYmFjayIsIl90aGlzOCIsImFuaW1hdGUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYXBwZW5kVG8iLCJjdXJyZW50VGFyZ2V0IiwiYmFja2Ryb3BUcmFuc2l0aW9uRHVyYXRpb24iLCJjYWxsYmFja1JlbW92ZSIsIl9iYWNrZHJvcFRyYW5zaXRpb25EdXJhdGlvbiIsImlzTW9kYWxPdmVyZmxvd2luZyIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJyaWdodCIsImlubmVyV2lkdGgiLCJfZ2V0U2Nyb2xsYmFyV2lkdGgiLCJfdGhpczkiLCJmaXhlZENvbnRlbnQiLCJzdGlja3lDb250ZW50IiwiYWN0dWFsUGFkZGluZyIsImNhbGN1bGF0ZWRQYWRkaW5nIiwiYWN0dWFsTWFyZ2luIiwibWFyZ2luUmlnaHQiLCJjYWxjdWxhdGVkTWFyZ2luIiwicGFkZGluZyIsImVsZW1lbnRzIiwibWFyZ2luIiwic2Nyb2xsRGl2Iiwic2Nyb2xsYmFyV2lkdGgiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJfdGhpczEwIiwiJHRhcmdldCJdLCJtYXBwaW5ncyI6IkNBS0EsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxvQkFBQUMsT0FBQUEsT0FBQUQsUUFBQUQsRUFBQUcsUUFBQSxXQUNBLG1CQUFBQyxRQUFBQSxPQUFBQyxJQUFBRCxPQUFBLENBQUEsVUFBQUosSUFDQUQsRUFBQUEsR0FBQU8sTUFBQUMsS0FBQVAsRUFBQUQsRUFBQVMsUUFIQSxD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QTRULEVBQUFyWSxLQUdBbUIsRUFBQXJCLEVBQUFtQix1QkFBQWpCLE1BRUFtQixJQUNBc0QsRUFBQTFELFNBQUFRLGNBQUFKLElBR0EsSUFBQXdCLEVBQUExQyxFQUFBd0UsR0FBQWdLLEtBQUFwSSxHQUFBLFNBQUFYLEVBQUEsR0FBQXpGLEVBQUF3RSxHQUFBZ0ssT0FBQXhPLEVBQUFELE1BQUF5TyxRQUVBLE1BQUF6TyxLQUFBbU0sU0FBQSxTQUFBbk0sS0FBQW1NLFNBQ0EvSCxFQUFBNEgsaUJBR0EsSUFBQXNNLEVBQUFyWSxFQUFBd0UsR0FBQWpFLElBQUEwRyxFQUFBd0ksS0FBQSxTQUFBc0IsR0FDQUEsRUFBQTlDLHNCQUtBb0ssRUFBQTlYLElBQUEwRyxFQUFBdUksT0FBQSxXQUNBeFAsRUFBQW9ZLEdBQUEzVCxHQUFBLGFBQ0EyVCxFQUFBOUcsWUFLQThCLEVBQUE5RSxpQkFBQXZMLEtBQUEvQyxFQUFBd0UsR0FBQTlCLEVBQUEzQyxRQVFBQyxFQUFBaUUsR0FBQWtDLEdBQUFpTixFQUFBOUUsaUJBQ0F0TyxFQUFBaUUsR0FBQWtDLEdBQUFxRCxZQUFBNEosRUFFQXBULEVBQUFpRSxHQUFBa0MsR0FBQStJLFdBQUEsV0FFQSxPQURBbFAsRUFBQWlFLEdBQUFrQyxHQUFBSSxFQUNBNk0sRUFBQTlFLGtCQUdBOEUiLCJmaWxlIjoicGx1Z2lucy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICAqIEJvb3RzdHJhcCB1dGlsLmpzIHY0LjMuMSAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLylcbiAgKiBDb3B5cmlnaHQgMjAxMS0yMDE5IFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpXG4gICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5VdGlsID0gZmFjdG9yeShnbG9iYWwualF1ZXJ5KSk7XG59KHRoaXMsIGZ1bmN0aW9uICgkKSB7ICd1c2Ugc3RyaWN0JztcblxuICAkID0gJCAmJiAkLmhhc093blByb3BlcnR5KCdkZWZhdWx0JykgPyAkWydkZWZhdWx0J10gOiAkO1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBCb290c3RyYXAgKHY0LjMuMSk6IHV0aWwuanNcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogUHJpdmF0ZSBUcmFuc2l0aW9uRW5kIEhlbHBlcnNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIHZhciBUUkFOU0lUSU9OX0VORCA9ICd0cmFuc2l0aW9uZW5kJztcbiAgdmFyIE1BWF9VSUQgPSAxMDAwMDAwO1xuICB2YXIgTUlMTElTRUNPTkRTX01VTFRJUExJRVIgPSAxMDAwOyAvLyBTaG91dG91dCBBbmd1c0Nyb2xsIChodHRwczovL2dvby5nbC9weHdRR3ApXG5cbiAgZnVuY3Rpb24gdG9UeXBlKG9iaikge1xuICAgIHJldHVybiB7fS50b1N0cmluZy5jYWxsKG9iaikubWF0Y2goL1xccyhbYS16XSspL2kpWzFdLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTcGVjaWFsVHJhbnNpdGlvbkVuZEV2ZW50KCkge1xuICAgIHJldHVybiB7XG4gICAgICBiaW5kVHlwZTogVFJBTlNJVElPTl9FTkQsXG4gICAgICBkZWxlZ2F0ZVR5cGU6IFRSQU5TSVRJT05fRU5ELFxuICAgICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5pcyh0aGlzKSkge1xuICAgICAgICAgIHJldHVybiBldmVudC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZmluZWRcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZEVtdWxhdG9yKGR1cmF0aW9uKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgICAkKHRoaXMpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgVXRpbC50cmlnZ2VyVHJhbnNpdGlvbkVuZChfdGhpcyk7XG4gICAgICB9XG4gICAgfSwgZHVyYXRpb24pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKSB7XG4gICAgJC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IHRyYW5zaXRpb25FbmRFbXVsYXRvcjtcbiAgICAkLmV2ZW50LnNwZWNpYWxbVXRpbC5UUkFOU0lUSU9OX0VORF0gPSBnZXRTcGVjaWFsVHJhbnNpdGlvbkVuZEV2ZW50KCk7XG4gIH1cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIFB1YmxpYyBVdGlsIEFwaVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuXG4gIHZhciBVdGlsID0ge1xuICAgIFRSQU5TSVRJT05fRU5EOiAnYnNUcmFuc2l0aW9uRW5kJyxcbiAgICBnZXRVSUQ6IGZ1bmN0aW9uIGdldFVJRChwcmVmaXgpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgcHJlZml4ICs9IH5+KE1hdGgucmFuZG9tKCkgKiBNQVhfVUlEKTsgLy8gXCJ+flwiIGFjdHMgbGlrZSBhIGZhc3RlciBNYXRoLmZsb29yKCkgaGVyZVxuICAgICAgfSB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSk7XG5cbiAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfSxcbiAgICBnZXRTZWxlY3RvckZyb21FbGVtZW50OiBmdW5jdGlvbiBnZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIHZhciBzZWxlY3RvciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpO1xuXG4gICAgICBpZiAoIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSAnIycpIHtcbiAgICAgICAgdmFyIGhyZWZBdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgICAgc2VsZWN0b3IgPSBocmVmQXR0ciAmJiBocmVmQXR0ciAhPT0gJyMnID8gaHJlZkF0dHIudHJpbSgpIDogJyc7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSA/IHNlbGVjdG9yIDogbnVsbDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50OiBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9IC8vIEdldCB0cmFuc2l0aW9uLWR1cmF0aW9uIG9mIHRoZSBlbGVtZW50XG5cblxuICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9ICQoZWxlbWVudCkuY3NzKCd0cmFuc2l0aW9uLWR1cmF0aW9uJyk7XG4gICAgICB2YXIgdHJhbnNpdGlvbkRlbGF5ID0gJChlbGVtZW50KS5jc3MoJ3RyYW5zaXRpb24tZGVsYXknKTtcbiAgICAgIHZhciBmbG9hdFRyYW5zaXRpb25EdXJhdGlvbiA9IHBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIHZhciBmbG9hdFRyYW5zaXRpb25EZWxheSA9IHBhcnNlRmxvYXQodHJhbnNpdGlvbkRlbGF5KTsgLy8gUmV0dXJuIDAgaWYgZWxlbWVudCBvciB0cmFuc2l0aW9uIGR1cmF0aW9uIGlzIG5vdCBmb3VuZFxuXG4gICAgICBpZiAoIWZsb2F0VHJhbnNpdGlvbkR1cmF0aW9uICYmICFmbG9hdFRyYW5zaXRpb25EZWxheSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0gLy8gSWYgbXVsdGlwbGUgZHVyYXRpb25zIGFyZSBkZWZpbmVkLCB0YWtlIHRoZSBmaXJzdFxuXG5cbiAgICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbi5zcGxpdCgnLCcpWzBdO1xuICAgICAgdHJhbnNpdGlvbkRlbGF5ID0gdHJhbnNpdGlvbkRlbGF5LnNwbGl0KCcsJylbMF07XG4gICAgICByZXR1cm4gKHBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKSArIHBhcnNlRmxvYXQodHJhbnNpdGlvbkRlbGF5KSkgKiBNSUxMSVNFQ09ORFNfTVVMVElQTElFUjtcbiAgICB9LFxuICAgIHJlZmxvdzogZnVuY3Rpb24gcmVmbG93KGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB9LFxuICAgIHRyaWdnZXJUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmlnZ2VyVHJhbnNpdGlvbkVuZChlbGVtZW50KSB7XG4gICAgICAkKGVsZW1lbnQpLnRyaWdnZXIoVFJBTlNJVElPTl9FTkQpO1xuICAgIH0sXG4gICAgLy8gVE9ETzogUmVtb3ZlIGluIHY1XG4gICAgc3VwcG9ydHNUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiBzdXBwb3J0c1RyYW5zaXRpb25FbmQoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihUUkFOU0lUSU9OX0VORCk7XG4gICAgfSxcbiAgICBpc0VsZW1lbnQ6IGZ1bmN0aW9uIGlzRWxlbWVudChvYmopIHtcbiAgICAgIHJldHVybiAob2JqWzBdIHx8IG9iaikubm9kZVR5cGU7XG4gICAgfSxcbiAgICB0eXBlQ2hlY2tDb25maWc6IGZ1bmN0aW9uIHR5cGVDaGVja0NvbmZpZyhjb21wb25lbnROYW1lLCBjb25maWcsIGNvbmZpZ1R5cGVzKSB7XG4gICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBjb25maWdUeXBlcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZ1R5cGVzLCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRUeXBlcyA9IGNvbmZpZ1R5cGVzW3Byb3BlcnR5XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb25maWdbcHJvcGVydHldO1xuICAgICAgICAgIHZhciB2YWx1ZVR5cGUgPSB2YWx1ZSAmJiBVdGlsLmlzRWxlbWVudCh2YWx1ZSkgPyAnZWxlbWVudCcgOiB0b1R5cGUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKCFuZXcgUmVnRXhwKGV4cGVjdGVkVHlwZXMpLnRlc3QodmFsdWVUeXBlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNvbXBvbmVudE5hbWUudG9VcHBlckNhc2UoKSArIFwiOiBcIiArIChcIk9wdGlvbiBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiBwcm92aWRlZCB0eXBlIFxcXCJcIiArIHZhbHVlVHlwZSArIFwiXFxcIiBcIikgKyAoXCJidXQgZXhwZWN0ZWQgdHlwZSBcXFwiXCIgKyBleHBlY3RlZFR5cGVzICsgXCJcXFwiLlwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBmaW5kU2hhZG93Um9vdDogZnVuY3Rpb24gZmluZFNoYWRvd1Jvb3QoZWxlbWVudCkge1xuICAgICAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXR0YWNoU2hhZG93KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSAvLyBDYW4gZmluZCB0aGUgc2hhZG93IHJvb3Qgb3RoZXJ3aXNlIGl0J2xsIHJldHVybiB0aGUgZG9jdW1lbnRcblxuXG4gICAgICBpZiAodHlwZW9mIGVsZW1lbnQuZ2V0Um9vdE5vZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBlbGVtZW50LmdldFJvb3ROb2RlKCk7XG4gICAgICAgIHJldHVybiByb290IGluc3RhbmNlb2YgU2hhZG93Um9vdCA/IHJvb3QgOiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9IC8vIHdoZW4gd2UgZG9uJ3QgZmluZCBhIHNoYWRvdyByb290XG5cblxuICAgICAgaWYgKCFlbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBVdGlsLmZpbmRTaGFkb3dSb290KGVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgfVxuICB9O1xuICBzZXRUcmFuc2l0aW9uRW5kU3VwcG9ydCgpO1xuXG4gIHJldHVybiBVdGlsO1xuXG59KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcFxuIiwiLyohXG4gICogQm9vdHN0cmFwIGNhcm91c2VsLmpzIHY0LjMuMSAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLylcbiAgKiBDb3B5cmlnaHQgMjAxMS0yMDE5IFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpXG4gICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSwgcmVxdWlyZSgnLi91dGlsLmpzJykpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnanF1ZXJ5JywgJy4vdXRpbC5qcyddLCBmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLkNhcm91c2VsID0gZmFjdG9yeShnbG9iYWwualF1ZXJ5LCBnbG9iYWwuVXRpbCkpO1xufSh0aGlzLCBmdW5jdGlvbiAoJCwgVXRpbCkgeyAndXNlIHN0cmljdCc7XG5cbiAgJCA9ICQgJiYgJC5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpID8gJFsnZGVmYXVsdCddIDogJDtcbiAgVXRpbCA9IFV0aWwgJiYgVXRpbC5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpID8gVXRpbFsnZGVmYXVsdCddIDogVXRpbDtcblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE5BTUUgPSAnY2Fyb3VzZWwnO1xuICB2YXIgVkVSU0lPTiA9ICc0LjMuMSc7XG4gIHZhciBEQVRBX0tFWSA9ICdicy5jYXJvdXNlbCc7XG4gIHZhciBFVkVOVF9LRVkgPSBcIi5cIiArIERBVEFfS0VZO1xuICB2YXIgREFUQV9BUElfS0VZID0gJy5kYXRhLWFwaSc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkLmZuW05BTUVdO1xuICB2YXIgQVJST1dfTEVGVF9LRVlDT0RFID0gMzc7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIGxlZnQgYXJyb3cga2V5XG5cbiAgdmFyIEFSUk9XX1JJR0hUX0tFWUNPREUgPSAzOTsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgcmlnaHQgYXJyb3cga2V5XG5cbiAgdmFyIFRPVUNIRVZFTlRfQ09NUEFUX1dBSVQgPSA1MDA7IC8vIFRpbWUgZm9yIG1vdXNlIGNvbXBhdCBldmVudHMgdG8gZmlyZSBhZnRlciB0b3VjaFxuXG4gIHZhciBTV0lQRV9USFJFU0hPTEQgPSA0MDtcbiAgdmFyIERlZmF1bHQgPSB7XG4gICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgc2xpZGU6IGZhbHNlLFxuICAgIHBhdXNlOiAnaG92ZXInLFxuICAgIHdyYXA6IHRydWUsXG4gICAgdG91Y2g6IHRydWVcbiAgfTtcbiAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgIGludGVydmFsOiAnKG51bWJlcnxib29sZWFuKScsXG4gICAga2V5Ym9hcmQ6ICdib29sZWFuJyxcbiAgICBzbGlkZTogJyhib29sZWFufHN0cmluZyknLFxuICAgIHBhdXNlOiAnKHN0cmluZ3xib29sZWFuKScsXG4gICAgd3JhcDogJ2Jvb2xlYW4nLFxuICAgIHRvdWNoOiAnYm9vbGVhbidcbiAgfTtcbiAgdmFyIERpcmVjdGlvbiA9IHtcbiAgICBORVhUOiAnbmV4dCcsXG4gICAgUFJFVjogJ3ByZXYnLFxuICAgIExFRlQ6ICdsZWZ0JyxcbiAgICBSSUdIVDogJ3JpZ2h0J1xuICB9O1xuICB2YXIgRXZlbnQgPSB7XG4gICAgU0xJREU6IFwic2xpZGVcIiArIEVWRU5UX0tFWSxcbiAgICBTTElEOiBcInNsaWRcIiArIEVWRU5UX0tFWSxcbiAgICBLRVlET1dOOiBcImtleWRvd25cIiArIEVWRU5UX0tFWSxcbiAgICBNT1VTRUVOVEVSOiBcIm1vdXNlZW50ZXJcIiArIEVWRU5UX0tFWSxcbiAgICBNT1VTRUxFQVZFOiBcIm1vdXNlbGVhdmVcIiArIEVWRU5UX0tFWSxcbiAgICBUT1VDSFNUQVJUOiBcInRvdWNoc3RhcnRcIiArIEVWRU5UX0tFWSxcbiAgICBUT1VDSE1PVkU6IFwidG91Y2htb3ZlXCIgKyBFVkVOVF9LRVksXG4gICAgVE9VQ0hFTkQ6IFwidG91Y2hlbmRcIiArIEVWRU5UX0tFWSxcbiAgICBQT0lOVEVSRE9XTjogXCJwb2ludGVyZG93blwiICsgRVZFTlRfS0VZLFxuICAgIFBPSU5URVJVUDogXCJwb2ludGVydXBcIiArIEVWRU5UX0tFWSxcbiAgICBEUkFHX1NUQVJUOiBcImRyYWdzdGFydFwiICsgRVZFTlRfS0VZLFxuICAgIExPQURfREFUQV9BUEk6IFwibG9hZFwiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZLFxuICAgIENMSUNLX0RBVEFfQVBJOiBcImNsaWNrXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVlcbiAgfTtcbiAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICBDQVJPVVNFTDogJ2Nhcm91c2VsJyxcbiAgICBBQ1RJVkU6ICdhY3RpdmUnLFxuICAgIFNMSURFOiAnc2xpZGUnLFxuICAgIFJJR0hUOiAnY2Fyb3VzZWwtaXRlbS1yaWdodCcsXG4gICAgTEVGVDogJ2Nhcm91c2VsLWl0ZW0tbGVmdCcsXG4gICAgTkVYVDogJ2Nhcm91c2VsLWl0ZW0tbmV4dCcsXG4gICAgUFJFVjogJ2Nhcm91c2VsLWl0ZW0tcHJldicsXG4gICAgSVRFTTogJ2Nhcm91c2VsLWl0ZW0nLFxuICAgIFBPSU5URVJfRVZFTlQ6ICdwb2ludGVyLWV2ZW50J1xuICB9O1xuICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgQUNUSVZFOiAnLmFjdGl2ZScsXG4gICAgQUNUSVZFX0lURU06ICcuYWN0aXZlLmNhcm91c2VsLWl0ZW0nLFxuICAgIElURU06ICcuY2Fyb3VzZWwtaXRlbScsXG4gICAgSVRFTV9JTUc6ICcuY2Fyb3VzZWwtaXRlbSBpbWcnLFxuICAgIE5FWFRfUFJFVjogJy5jYXJvdXNlbC1pdGVtLW5leHQsIC5jYXJvdXNlbC1pdGVtLXByZXYnLFxuICAgIElORElDQVRPUlM6ICcuY2Fyb3VzZWwtaW5kaWNhdG9ycycsXG4gICAgREFUQV9TTElERTogJ1tkYXRhLXNsaWRlXSwgW2RhdGEtc2xpZGUtdG9dJyxcbiAgICBEQVRBX1JJREU6ICdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nXG4gIH07XG4gIHZhciBQb2ludGVyVHlwZSA9IHtcbiAgICBUT1VDSDogJ3RvdWNoJyxcbiAgICBQRU46ICdwZW4nXG4gICAgLyoqXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuXG4gIH07XG5cbiAgdmFyIENhcm91c2VsID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2Fyb3VzZWwoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICB0aGlzLl9pdGVtcyA9IG51bGw7XG4gICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICB0aGlzLl9hY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMudG91Y2hUaW1lb3V0ID0gbnVsbDtcbiAgICAgIHRoaXMudG91Y2hTdGFydFggPSAwO1xuICAgICAgdGhpcy50b3VjaERlbHRhWCA9IDA7XG4gICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuSU5ESUNBVE9SUyk7XG4gICAgICB0aGlzLl90b3VjaFN1cHBvcnRlZCA9ICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwO1xuICAgICAgdGhpcy5fcG9pbnRlckV2ZW50ID0gQm9vbGVhbih3aW5kb3cuUG9pbnRlckV2ZW50IHx8IHdpbmRvdy5NU1BvaW50ZXJFdmVudCk7XG5cbiAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBDYXJvdXNlbC5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8ubmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICBpZiAoIXRoaXMuX2lzU2xpZGluZykge1xuICAgICAgICB0aGlzLl9zbGlkZShEaXJlY3Rpb24uTkVYVCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5uZXh0V2hlblZpc2libGUgPSBmdW5jdGlvbiBuZXh0V2hlblZpc2libGUoKSB7XG4gICAgICAvLyBEb24ndCBjYWxsIG5leHQgd2hlbiB0aGUgcGFnZSBpc24ndCB2aXNpYmxlXG4gICAgICAvLyBvciB0aGUgY2Fyb3VzZWwgb3IgaXRzIHBhcmVudCBpc24ndCB2aXNpYmxlXG4gICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbiAmJiAkKHRoaXMuX2VsZW1lbnQpLmlzKCc6dmlzaWJsZScpICYmICQodGhpcy5fZWxlbWVudCkuY3NzKCd2aXNpYmlsaXR5JykgIT09ICdoaWRkZW4nKSB7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ucHJldiA9IGZ1bmN0aW9uIHByZXYoKSB7XG4gICAgICBpZiAoIXRoaXMuX2lzU2xpZGluZykge1xuICAgICAgICB0aGlzLl9zbGlkZShEaXJlY3Rpb24uUFJFVik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5wYXVzZSA9IGZ1bmN0aW9uIHBhdXNlKGV2ZW50KSB7XG4gICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5ORVhUX1BSRVYpKSB7XG4gICAgICAgIFV0aWwudHJpZ2dlclRyYW5zaXRpb25FbmQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIHRoaXMuY3ljbGUodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO1xuICAgICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuICAgIH07XG5cbiAgICBfcHJvdG8uY3ljbGUgPSBmdW5jdGlvbiBjeWNsZShldmVudCkge1xuICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5pbnRlcnZhbCAmJiAhdGhpcy5faXNQYXVzZWQpIHtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID8gdGhpcy5uZXh0V2hlblZpc2libGUgOiB0aGlzLm5leHQpLmJpbmQodGhpcyksIHRoaXMuX2NvbmZpZy5pbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by50byA9IGZ1bmN0aW9uIHRvKGluZGV4KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLl9hY3RpdmVFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLkFDVElWRV9JVEVNKTtcblxuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KHRoaXMuX2FjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICBpZiAoaW5kZXggPiB0aGlzLl9pdGVtcy5sZW5ndGggLSAxIHx8IGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc1NsaWRpbmcpIHtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbmUoRXZlbnQuU0xJRCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy50byhpbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3RpdmVJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICB0aGlzLmN5Y2xlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGRpcmVjdGlvbiA9IGluZGV4ID4gYWN0aXZlSW5kZXggPyBEaXJlY3Rpb24uTkVYVCA6IERpcmVjdGlvbi5QUkVWO1xuXG4gICAgICB0aGlzLl9zbGlkZShkaXJlY3Rpb24sIHRoaXMuX2l0ZW1zW2luZGV4XSk7XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICQodGhpcy5fZWxlbWVudCkub2ZmKEVWRU5UX0tFWSk7XG4gICAgICAkLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuICAgICAgdGhpcy5faXRlbXMgPSBudWxsO1xuICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgdGhpcy5faXNQYXVzZWQgPSBudWxsO1xuICAgICAgdGhpcy5faXNTbGlkaW5nID0gbnVsbDtcbiAgICAgIHRoaXMuX2FjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQgPSBudWxsO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsIGNvbmZpZyk7XG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIERlZmF1bHRUeXBlKTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIF9wcm90by5faGFuZGxlU3dpcGUgPSBmdW5jdGlvbiBfaGFuZGxlU3dpcGUoKSB7XG4gICAgICB2YXIgYWJzRGVsdGF4ID0gTWF0aC5hYnModGhpcy50b3VjaERlbHRhWCk7XG5cbiAgICAgIGlmIChhYnNEZWx0YXggPD0gU1dJUEVfVEhSRVNIT0xEKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGRpcmVjdGlvbiA9IGFic0RlbHRheCAvIHRoaXMudG91Y2hEZWx0YVg7IC8vIHN3aXBlIGxlZnRcblxuICAgICAgaWYgKGRpcmVjdGlvbiA+IDApIHtcbiAgICAgICAgdGhpcy5wcmV2KCk7XG4gICAgICB9IC8vIHN3aXBlIHJpZ2h0XG5cblxuICAgICAgaWYgKGRpcmVjdGlvbiA8IDApIHtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fYWRkRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5rZXlib2FyZCkge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LktFWURPV04sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuX2tleWRvd24oZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5wYXVzZSA9PT0gJ2hvdmVyJykge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50Lk1PVVNFRU5URVIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIucGF1c2UoZXZlbnQpO1xuICAgICAgICB9KS5vbihFdmVudC5NT1VTRUxFQVZFLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmN5Y2xlKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcudG91Y2gpIHtcbiAgICAgICAgdGhpcy5fYWRkVG91Y2hFdmVudExpc3RlbmVycygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2FkZFRvdWNoRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfYWRkVG91Y2hFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuX3RvdWNoU3VwcG9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKF90aGlzMy5fcG9pbnRlckV2ZW50ICYmIFBvaW50ZXJUeXBlW2V2ZW50Lm9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUudG9VcHBlckNhc2UoKV0pIHtcbiAgICAgICAgICBfdGhpczMudG91Y2hTdGFydFggPSBldmVudC5vcmlnaW5hbEV2ZW50LmNsaWVudFg7XG4gICAgICAgIH0gZWxzZSBpZiAoIV90aGlzMy5fcG9pbnRlckV2ZW50KSB7XG4gICAgICAgICAgX3RoaXMzLnRvdWNoU3RhcnRYID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBtb3ZlID0gZnVuY3Rpb24gbW92ZShldmVudCkge1xuICAgICAgICAvLyBlbnN1cmUgc3dpcGluZyB3aXRoIG9uZSB0b3VjaCBhbmQgbm90IHBpbmNoaW5nXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBfdGhpczMudG91Y2hEZWx0YVggPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzMy50b3VjaERlbHRhWCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gX3RoaXMzLnRvdWNoU3RhcnRYO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgZW5kID0gZnVuY3Rpb24gZW5kKGV2ZW50KSB7XG4gICAgICAgIGlmIChfdGhpczMuX3BvaW50ZXJFdmVudCAmJiBQb2ludGVyVHlwZVtldmVudC5vcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlLnRvVXBwZXJDYXNlKCldKSB7XG4gICAgICAgICAgX3RoaXMzLnRvdWNoRGVsdGFYID0gZXZlbnQub3JpZ2luYWxFdmVudC5jbGllbnRYIC0gX3RoaXMzLnRvdWNoU3RhcnRYO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLl9oYW5kbGVTd2lwZSgpO1xuXG4gICAgICAgIGlmIChfdGhpczMuX2NvbmZpZy5wYXVzZSA9PT0gJ2hvdmVyJykge1xuICAgICAgICAgIC8vIElmIGl0J3MgYSB0b3VjaC1lbmFibGVkIGRldmljZSwgbW91c2VlbnRlci9sZWF2ZSBhcmUgZmlyZWQgYXNcbiAgICAgICAgICAvLyBwYXJ0IG9mIHRoZSBtb3VzZSBjb21wYXRpYmlsaXR5IGV2ZW50cyBvbiBmaXJzdCB0YXAgLSB0aGUgY2Fyb3VzZWxcbiAgICAgICAgICAvLyB3b3VsZCBzdG9wIGN5Y2xpbmcgdW50aWwgdXNlciB0YXBwZWQgb3V0IG9mIGl0O1xuICAgICAgICAgIC8vIGhlcmUsIHdlIGxpc3RlbiBmb3IgdG91Y2hlbmQsIGV4cGxpY2l0bHkgcGF1c2UgdGhlIGNhcm91c2VsXG4gICAgICAgICAgLy8gKGFzIGlmIGl0J3MgdGhlIHNlY29uZCB0aW1lIHdlIHRhcCBvbiBpdCwgbW91c2VlbnRlciBjb21wYXQgZXZlbnRcbiAgICAgICAgICAvLyBpcyBOT1QgZmlyZWQpIGFuZCBhZnRlciBhIHRpbWVvdXQgKHRvIGFsbG93IGZvciBtb3VzZSBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgLy8gZXZlbnRzIHRvIGZpcmUpIHdlIGV4cGxpY2l0bHkgcmVzdGFydCBjeWNsaW5nXG4gICAgICAgICAgX3RoaXMzLnBhdXNlKCk7XG5cbiAgICAgICAgICBpZiAoX3RoaXMzLnRvdWNoVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMy50b3VjaFRpbWVvdXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMy50b3VjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jeWNsZShldmVudCk7XG4gICAgICAgICAgfSwgVE9VQ0hFVkVOVF9DT01QQVRfV0FJVCArIF90aGlzMy5fY29uZmlnLmludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJCh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuSVRFTV9JTUcpKS5vbihFdmVudC5EUkFHX1NUQVJULCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLl9wb2ludGVyRXZlbnQpIHtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5QT0lOVEVSRE9XTiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgICQodGhpcy5fZWxlbWVudCkub24oRXZlbnQuUE9JTlRFUlVQLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gZW5kKGV2ZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENsYXNzTmFtZS5QT0lOVEVSX0VWRU5UKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQodGhpcy5fZWxlbWVudCkub24oRXZlbnQuVE9VQ0hTVEFSVCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgICQodGhpcy5fZWxlbWVudCkub24oRXZlbnQuVE9VQ0hNT1ZFLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gbW92ZShldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LlRPVUNIRU5ELCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gZW5kKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fa2V5ZG93biA9IGZ1bmN0aW9uIF9rZXlkb3duKGV2ZW50KSB7XG4gICAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAgIGNhc2UgQVJST1dfTEVGVF9LRVlDT0RFOlxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5wcmV2KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBBUlJPV19SSUdIVF9LRVlDT0RFOlxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiBfZ2V0SXRlbUluZGV4KGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2l0ZW1zID0gZWxlbWVudCAmJiBlbGVtZW50LnBhcmVudE5vZGUgPyBbXS5zbGljZS5jYWxsKGVsZW1lbnQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLklURU0pKSA6IFtdO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLmluZGV4T2YoZWxlbWVudCk7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0SXRlbUJ5RGlyZWN0aW9uID0gZnVuY3Rpb24gX2dldEl0ZW1CeURpcmVjdGlvbihkaXJlY3Rpb24sIGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgIHZhciBpc05leHREaXJlY3Rpb24gPSBkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5ORVhUO1xuICAgICAgdmFyIGlzUHJldkRpcmVjdGlvbiA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLlBSRVY7XG5cbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleChhY3RpdmVFbGVtZW50KTtcblxuICAgICAgdmFyIGxhc3RJdGVtSW5kZXggPSB0aGlzLl9pdGVtcy5sZW5ndGggLSAxO1xuICAgICAgdmFyIGlzR29pbmdUb1dyYXAgPSBpc1ByZXZEaXJlY3Rpb24gJiYgYWN0aXZlSW5kZXggPT09IDAgfHwgaXNOZXh0RGlyZWN0aW9uICYmIGFjdGl2ZUluZGV4ID09PSBsYXN0SXRlbUluZGV4O1xuXG4gICAgICBpZiAoaXNHb2luZ1RvV3JhcCAmJiAhdGhpcy5fY29uZmlnLndyYXApIHtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWx0YSA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLlBSRVYgPyAtMSA6IDE7XG4gICAgICB2YXIgaXRlbUluZGV4ID0gKGFjdGl2ZUluZGV4ICsgZGVsdGEpICUgdGhpcy5faXRlbXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGl0ZW1JbmRleCA9PT0gLTEgPyB0aGlzLl9pdGVtc1t0aGlzLl9pdGVtcy5sZW5ndGggLSAxXSA6IHRoaXMuX2l0ZW1zW2l0ZW1JbmRleF07XG4gICAgfTtcblxuICAgIF9wcm90by5fdHJpZ2dlclNsaWRlRXZlbnQgPSBmdW5jdGlvbiBfdHJpZ2dlclNsaWRlRXZlbnQocmVsYXRlZFRhcmdldCwgZXZlbnREaXJlY3Rpb25OYW1lKSB7XG4gICAgICB2YXIgdGFyZ2V0SW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgocmVsYXRlZFRhcmdldCk7XG5cbiAgICAgIHZhciBmcm9tSW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgodGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLkFDVElWRV9JVEVNKSk7XG5cbiAgICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudChFdmVudC5TTElERSwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgICBkaXJlY3Rpb246IGV2ZW50RGlyZWN0aW9uTmFtZSxcbiAgICAgICAgZnJvbTogZnJvbUluZGV4LFxuICAgICAgICB0bzogdGFyZ2V0SW5kZXhcbiAgICAgIH0pO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNsaWRlRXZlbnQpO1xuICAgICAgcmV0dXJuIHNsaWRlRXZlbnQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fc2V0QWN0aXZlSW5kaWNhdG9yRWxlbWVudCA9IGZ1bmN0aW9uIF9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIGlmICh0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCkge1xuICAgICAgICB2YXIgaW5kaWNhdG9ycyA9IFtdLnNsaWNlLmNhbGwodGhpcy5faW5kaWNhdG9yc0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5BQ1RJVkUpKTtcbiAgICAgICAgJChpbmRpY2F0b3JzKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcblxuICAgICAgICB2YXIgbmV4dEluZGljYXRvciA9IHRoaXMuX2luZGljYXRvcnNFbGVtZW50LmNoaWxkcmVuW3RoaXMuX2dldEl0ZW1JbmRleChlbGVtZW50KV07XG5cbiAgICAgICAgaWYgKG5leHRJbmRpY2F0b3IpIHtcbiAgICAgICAgICAkKG5leHRJbmRpY2F0b3IpLmFkZENsYXNzKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fc2xpZGUgPSBmdW5jdGlvbiBfc2xpZGUoZGlyZWN0aW9uLCBlbGVtZW50KSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQUNUSVZFX0lURU0pO1xuXG4gICAgICB2YXIgYWN0aXZlRWxlbWVudEluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KGFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICB2YXIgbmV4dEVsZW1lbnQgPSBlbGVtZW50IHx8IGFjdGl2ZUVsZW1lbnQgJiYgdGhpcy5fZ2V0SXRlbUJ5RGlyZWN0aW9uKGRpcmVjdGlvbiwgYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgIHZhciBuZXh0RWxlbWVudEluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KG5leHRFbGVtZW50KTtcblxuICAgICAgdmFyIGlzQ3ljbGluZyA9IEJvb2xlYW4odGhpcy5faW50ZXJ2YWwpO1xuICAgICAgdmFyIGRpcmVjdGlvbmFsQ2xhc3NOYW1lO1xuICAgICAgdmFyIG9yZGVyQ2xhc3NOYW1lO1xuICAgICAgdmFyIGV2ZW50RGlyZWN0aW9uTmFtZTtcblxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLk5FWFQpIHtcbiAgICAgICAgZGlyZWN0aW9uYWxDbGFzc05hbWUgPSBDbGFzc05hbWUuTEVGVDtcbiAgICAgICAgb3JkZXJDbGFzc05hbWUgPSBDbGFzc05hbWUuTkVYVDtcbiAgICAgICAgZXZlbnREaXJlY3Rpb25OYW1lID0gRGlyZWN0aW9uLkxFRlQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXJlY3Rpb25hbENsYXNzTmFtZSA9IENsYXNzTmFtZS5SSUdIVDtcbiAgICAgICAgb3JkZXJDbGFzc05hbWUgPSBDbGFzc05hbWUuUFJFVjtcbiAgICAgICAgZXZlbnREaXJlY3Rpb25OYW1lID0gRGlyZWN0aW9uLlJJR0hUO1xuICAgICAgfVxuXG4gICAgICBpZiAobmV4dEVsZW1lbnQgJiYgJChuZXh0RWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSkpIHtcbiAgICAgICAgdGhpcy5faXNTbGlkaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNsaWRlRXZlbnQgPSB0aGlzLl90cmlnZ2VyU2xpZGVFdmVudChuZXh0RWxlbWVudCwgZXZlbnREaXJlY3Rpb25OYW1lKTtcblxuICAgICAgaWYgKHNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWFjdGl2ZUVsZW1lbnQgfHwgIW5leHRFbGVtZW50KSB7XG4gICAgICAgIC8vIFNvbWUgd2VpcmRuZXNzIGlzIGhhcHBlbmluZywgc28gd2UgYmFpbFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzU2xpZGluZyA9IHRydWU7XG5cbiAgICAgIGlmIChpc0N5Y2xpbmcpIHtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50KG5leHRFbGVtZW50KTtcblxuICAgICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoRXZlbnQuU0xJRCwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiBuZXh0RWxlbWVudCxcbiAgICAgICAgZGlyZWN0aW9uOiBldmVudERpcmVjdGlvbk5hbWUsXG4gICAgICAgIGZyb206IGFjdGl2ZUVsZW1lbnRJbmRleCxcbiAgICAgICAgdG86IG5leHRFbGVtZW50SW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuU0xJREUpKSB7XG4gICAgICAgICQobmV4dEVsZW1lbnQpLmFkZENsYXNzKG9yZGVyQ2xhc3NOYW1lKTtcbiAgICAgICAgVXRpbC5yZWZsb3cobmV4dEVsZW1lbnQpO1xuICAgICAgICAkKGFjdGl2ZUVsZW1lbnQpLmFkZENsYXNzKGRpcmVjdGlvbmFsQ2xhc3NOYW1lKTtcbiAgICAgICAgJChuZXh0RWxlbWVudCkuYWRkQ2xhc3MoZGlyZWN0aW9uYWxDbGFzc05hbWUpO1xuICAgICAgICB2YXIgbmV4dEVsZW1lbnRJbnRlcnZhbCA9IHBhcnNlSW50KG5leHRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pbnRlcnZhbCcpLCAxMCk7XG5cbiAgICAgICAgaWYgKG5leHRFbGVtZW50SW50ZXJ2YWwpIHtcbiAgICAgICAgICB0aGlzLl9jb25maWcuZGVmYXVsdEludGVydmFsID0gdGhpcy5fY29uZmlnLmRlZmF1bHRJbnRlcnZhbCB8fCB0aGlzLl9jb25maWcuaW50ZXJ2YWw7XG4gICAgICAgICAgdGhpcy5fY29uZmlnLmludGVydmFsID0gbmV4dEVsZW1lbnRJbnRlcnZhbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9jb25maWcuaW50ZXJ2YWwgPSB0aGlzLl9jb25maWcuZGVmYXVsdEludGVydmFsIHx8IHRoaXMuX2NvbmZpZy5pbnRlcnZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICAkKGFjdGl2ZUVsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJChuZXh0RWxlbWVudCkucmVtb3ZlQ2xhc3MoZGlyZWN0aW9uYWxDbGFzc05hbWUgKyBcIiBcIiArIG9yZGVyQ2xhc3NOYW1lKS5hZGRDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgICAkKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5BQ1RJVkUgKyBcIiBcIiArIG9yZGVyQ2xhc3NOYW1lICsgXCIgXCIgKyBkaXJlY3Rpb25hbENsYXNzTmFtZSk7XG4gICAgICAgICAgX3RoaXM0Ll9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAkKF90aGlzNC5fZWxlbWVudCkudHJpZ2dlcihzbGlkRXZlbnQpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChhY3RpdmVFbGVtZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgJChuZXh0RWxlbWVudCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgIHRoaXMuX2lzU2xpZGluZyA9IGZhbHNlO1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2xpZEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ3ljbGluZykge1xuICAgICAgICB0aGlzLmN5Y2xlKCk7XG4gICAgICB9XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgdmFyIF9jb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBEZWZhdWx0LCAkKHRoaXMpLmRhdGEoKSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgX2NvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIF9jb25maWcsIGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9uID0gdHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycgPyBjb25maWcgOiBfY29uZmlnLnNsaWRlO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJCh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGRhdGEudG8oY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVthY3Rpb25dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBhY3Rpb24gKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVthY3Rpb25dKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoX2NvbmZpZy5pbnRlcnZhbCAmJiBfY29uZmlnLnJpZGUpIHtcbiAgICAgICAgICBkYXRhLnBhdXNlKCk7XG4gICAgICAgICAgZGF0YS5jeWNsZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgQ2Fyb3VzZWwuX2RhdGFBcGlDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiBfZGF0YUFwaUNsaWNrSGFuZGxlcihldmVudCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpO1xuXG4gICAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRhcmdldCA9ICQoc2VsZWN0b3IpWzBdO1xuXG4gICAgICBpZiAoIXRhcmdldCB8fCAhJCh0YXJnZXQpLmhhc0NsYXNzKENsYXNzTmFtZS5DQVJPVVNFTCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgJCh0YXJnZXQpLmRhdGEoKSwgJCh0aGlzKS5kYXRhKCkpO1xuXG4gICAgICB2YXIgc2xpZGVJbmRleCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXNsaWRlLXRvJyk7XG5cbiAgICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAgIGNvbmZpZy5pbnRlcnZhbCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCh0YXJnZXQpLCBjb25maWcpO1xuXG4gICAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgICAkKHRhcmdldCkuZGF0YShEQVRBX0tFWSkudG8oc2xpZGVJbmRleCk7XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhDYXJvdXNlbCwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2Fyb3VzZWw7XG4gIH0oKTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICAkKGRvY3VtZW50KS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9TTElERSwgQ2Fyb3VzZWwuX2RhdGFBcGlDbGlja0hhbmRsZXIpO1xuICAkKHdpbmRvdykub24oRXZlbnQuTE9BRF9EQVRBX0FQSSwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYXJvdXNlbHMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuREFUQV9SSURFKSk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2Fyb3VzZWxzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgJGNhcm91c2VsID0gJChjYXJvdXNlbHNbaV0pO1xuXG4gICAgICBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJGNhcm91c2VsLCAkY2Fyb3VzZWwuZGF0YSgpKTtcbiAgICB9XG4gIH0pO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGpRdWVyeVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgJC5mbltOQU1FXSA9IENhcm91c2VsLl9qUXVlcnlJbnRlcmZhY2U7XG4gICQuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBDYXJvdXNlbDtcblxuICAkLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICByZXR1cm4gQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZTtcbiAgfTtcblxuICByZXR1cm4gQ2Fyb3VzZWw7XG5cbn0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhcm91c2VsLmpzLm1hcFxuIiwiLyohXG4gICogQm9vdHN0cmFwIGRyb3Bkb3duLmpzIHY0LjMuMSAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLylcbiAgKiBDb3B5cmlnaHQgMjAxMS0yMDE5IFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpXG4gICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSwgcmVxdWlyZSgncG9wcGVyLmpzJyksIHJlcXVpcmUoJy4vdXRpbC5qcycpKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2pxdWVyeScsICdwb3BwZXIuanMnLCAnLi91dGlsLmpzJ10sIGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuRHJvcGRvd24gPSBmYWN0b3J5KGdsb2JhbC5qUXVlcnksIGdsb2JhbC5Qb3BwZXIsIGdsb2JhbC5VdGlsKSk7XG59KHRoaXMsIGZ1bmN0aW9uICgkLCBQb3BwZXIsIFV0aWwpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICQgPSAkICYmICQuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/ICRbJ2RlZmF1bHQnXSA6ICQ7XG4gIFBvcHBlciA9IFBvcHBlciAmJiBQb3BwZXIuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/IFBvcHBlclsnZGVmYXVsdCddIDogUG9wcGVyO1xuICBVdGlsID0gVXRpbCAmJiBVdGlsLmhhc093blByb3BlcnR5KCdkZWZhdWx0JykgPyBVdGlsWydkZWZhdWx0J10gOiBVdGlsO1xuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuICAgICAgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgICBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgICB9KSk7XG4gICAgICB9XG5cbiAgICAgIG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQ29uc3RhbnRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICB2YXIgTkFNRSA9ICdkcm9wZG93bic7XG4gIHZhciBWRVJTSU9OID0gJzQuMy4xJztcbiAgdmFyIERBVEFfS0VZID0gJ2JzLmRyb3Bkb3duJztcbiAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQuZm5bTkFNRV07XG4gIHZhciBFU0NBUEVfS0VZQ09ERSA9IDI3OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBFc2NhcGUgKEVzYykga2V5XG5cbiAgdmFyIFNQQUNFX0tFWUNPREUgPSAzMjsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3Igc3BhY2Uga2V5XG5cbiAgdmFyIFRBQl9LRVlDT0RFID0gOTsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgdGFiIGtleVxuXG4gIHZhciBBUlJPV19VUF9LRVlDT0RFID0gMzg7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIHVwIGFycm93IGtleVxuXG4gIHZhciBBUlJPV19ET1dOX0tFWUNPREUgPSA0MDsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgZG93biBhcnJvdyBrZXlcblxuICB2YXIgUklHSFRfTU9VU0VfQlVUVE9OX1dISUNIID0gMzsgLy8gTW91c2VFdmVudC53aGljaCB2YWx1ZSBmb3IgdGhlIHJpZ2h0IGJ1dHRvbiAoYXNzdW1pbmcgYSByaWdodC1oYW5kZWQgbW91c2UpXG5cbiAgdmFyIFJFR0VYUF9LRVlET1dOID0gbmV3IFJlZ0V4cChBUlJPV19VUF9LRVlDT0RFICsgXCJ8XCIgKyBBUlJPV19ET1dOX0tFWUNPREUgKyBcInxcIiArIEVTQ0FQRV9LRVlDT0RFKTtcbiAgdmFyIEV2ZW50ID0ge1xuICAgIEhJREU6IFwiaGlkZVwiICsgRVZFTlRfS0VZLFxuICAgIEhJRERFTjogXCJoaWRkZW5cIiArIEVWRU5UX0tFWSxcbiAgICBTSE9XOiBcInNob3dcIiArIEVWRU5UX0tFWSxcbiAgICBTSE9XTjogXCJzaG93blwiICsgRVZFTlRfS0VZLFxuICAgIENMSUNLOiBcImNsaWNrXCIgKyBFVkVOVF9LRVksXG4gICAgQ0xJQ0tfREFUQV9BUEk6IFwiY2xpY2tcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWSxcbiAgICBLRVlET1dOX0RBVEFfQVBJOiBcImtleWRvd25cIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWSxcbiAgICBLRVlVUF9EQVRBX0FQSTogXCJrZXl1cFwiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZXG4gIH07XG4gIHZhciBDbGFzc05hbWUgPSB7XG4gICAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gICAgU0hPVzogJ3Nob3cnLFxuICAgIERST1BVUDogJ2Ryb3B1cCcsXG4gICAgRFJPUFJJR0hUOiAnZHJvcHJpZ2h0JyxcbiAgICBEUk9QTEVGVDogJ2Ryb3BsZWZ0JyxcbiAgICBNRU5VUklHSFQ6ICdkcm9wZG93bi1tZW51LXJpZ2h0JyxcbiAgICBNRU5VTEVGVDogJ2Ryb3Bkb3duLW1lbnUtbGVmdCcsXG4gICAgUE9TSVRJT05fU1RBVElDOiAncG9zaXRpb24tc3RhdGljJ1xuICB9O1xuICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgREFUQV9UT0dHTEU6ICdbZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXScsXG4gICAgRk9STV9DSElMRDogJy5kcm9wZG93biBmb3JtJyxcbiAgICBNRU5VOiAnLmRyb3Bkb3duLW1lbnUnLFxuICAgIE5BVkJBUl9OQVY6ICcubmF2YmFyLW5hdicsXG4gICAgVklTSUJMRV9JVEVNUzogJy5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOm5vdCguZGlzYWJsZWQpOm5vdCg6ZGlzYWJsZWQpJ1xuICB9O1xuICB2YXIgQXR0YWNobWVudE1hcCA9IHtcbiAgICBUT1A6ICd0b3Atc3RhcnQnLFxuICAgIFRPUEVORDogJ3RvcC1lbmQnLFxuICAgIEJPVFRPTTogJ2JvdHRvbS1zdGFydCcsXG4gICAgQk9UVE9NRU5EOiAnYm90dG9tLWVuZCcsXG4gICAgUklHSFQ6ICdyaWdodC1zdGFydCcsXG4gICAgUklHSFRFTkQ6ICdyaWdodC1lbmQnLFxuICAgIExFRlQ6ICdsZWZ0LXN0YXJ0JyxcbiAgICBMRUZURU5EOiAnbGVmdC1lbmQnXG4gIH07XG4gIHZhciBEZWZhdWx0ID0ge1xuICAgIG9mZnNldDogMCxcbiAgICBmbGlwOiB0cnVlLFxuICAgIGJvdW5kYXJ5OiAnc2Nyb2xsUGFyZW50JyxcbiAgICByZWZlcmVuY2U6ICd0b2dnbGUnLFxuICAgIGRpc3BsYXk6ICdkeW5hbWljJ1xuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUgPSB7XG4gICAgb2Zmc2V0OiAnKG51bWJlcnxzdHJpbmd8ZnVuY3Rpb24pJyxcbiAgICBmbGlwOiAnYm9vbGVhbicsXG4gICAgYm91bmRhcnk6ICcoc3RyaW5nfGVsZW1lbnQpJyxcbiAgICByZWZlcmVuY2U6ICcoc3RyaW5nfGVsZW1lbnQpJyxcbiAgICBkaXNwbGF5OiAnc3RyaW5nJ1xuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENsYXNzIERlZmluaXRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICB9O1xuXG4gIHZhciBEcm9wZG93biA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERyb3Bkb3duKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9wb3BwZXIgPSBudWxsO1xuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl9tZW51ID0gdGhpcy5fZ2V0TWVudUVsZW1lbnQoKTtcbiAgICAgIHRoaXMuX2luTmF2YmFyID0gdGhpcy5fZGV0ZWN0TmF2YmFyKCk7XG5cbiAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBEcm9wZG93bi5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgaWYgKHRoaXMuX2VsZW1lbnQuZGlzYWJsZWQgfHwgJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRElTQUJMRUQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgdmFyIGlzQWN0aXZlID0gJCh0aGlzLl9tZW51KS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgIERyb3Bkb3duLl9jbGVhck1lbnVzKCk7XG5cbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0ge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLl9lbGVtZW50XG4gICAgICB9O1xuICAgICAgdmFyIHNob3dFdmVudCA9ICQuRXZlbnQoRXZlbnQuU0hPVywgcmVsYXRlZFRhcmdldCk7XG4gICAgICAkKHBhcmVudCkudHJpZ2dlcihzaG93RXZlbnQpO1xuXG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gRGlzYWJsZSB0b3RhbGx5IFBvcHBlci5qcyBmb3IgRHJvcGRvd24gaW4gTmF2YmFyXG5cblxuICAgICAgaWYgKCF0aGlzLl9pbk5hdmJhcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgZm9yIFBvcHBlciBkZXBlbmRlbmN5XG4gICAgICAgICAqIFBvcHBlciAtIGh0dHBzOi8vcG9wcGVyLmpzLm9yZ1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHR5cGVvZiBQb3BwZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9vdHN0cmFwXFwncyBkcm9wZG93bnMgcmVxdWlyZSBQb3BwZXIuanMgKGh0dHBzOi8vcG9wcGVyLmpzLm9yZy8pJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVmZXJlbmNlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UgPT09ICdwYXJlbnQnKSB7XG4gICAgICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IHBhcmVudDtcbiAgICAgICAgfSBlbHNlIGlmIChVdGlsLmlzRWxlbWVudCh0aGlzLl9jb25maWcucmVmZXJlbmNlKSkge1xuICAgICAgICAgIHJlZmVyZW5jZUVsZW1lbnQgPSB0aGlzLl9jb25maWcucmVmZXJlbmNlOyAvLyBDaGVjayBpZiBpdCdzIGpRdWVyeSBlbGVtZW50XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UuanF1ZXJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IHRoaXMuX2NvbmZpZy5yZWZlcmVuY2VbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIElmIGJvdW5kYXJ5IGlzIG5vdCBgc2Nyb2xsUGFyZW50YCwgdGhlbiBzZXQgcG9zaXRpb24gdG8gYHN0YXRpY2BcbiAgICAgICAgLy8gdG8gYWxsb3cgdGhlIG1lbnUgdG8gXCJlc2NhcGVcIiB0aGUgc2Nyb2xsIHBhcmVudCdzIGJvdW5kYXJpZXNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2lzc3Vlcy8yNDI1MVxuXG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5ib3VuZGFyeSAhPT0gJ3Njcm9sbFBhcmVudCcpIHtcbiAgICAgICAgICAkKHBhcmVudCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLlBPU0lUSU9OX1NUQVRJQyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wb3BwZXIgPSBuZXcgUG9wcGVyKHJlZmVyZW5jZUVsZW1lbnQsIHRoaXMuX21lbnUsIHRoaXMuX2dldFBvcHBlckNvbmZpZygpKTtcbiAgICAgIH0gLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIGFkZCBleHRyYVxuICAgICAgLy8gZW1wdHkgbW91c2VvdmVyIGxpc3RlbmVycyB0byB0aGUgYm9keSdzIGltbWVkaWF0ZSBjaGlsZHJlbjtcbiAgICAgIC8vIG9ubHkgbmVlZGVkIGJlY2F1c2Ugb2YgYnJva2VuIGV2ZW50IGRlbGVnYXRpb24gb24gaU9TXG4gICAgICAvLyBodHRwczovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTQvMDIvbW91c2VfZXZlbnRfYnViLmh0bWxcblxuXG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICQocGFyZW50KS5jbG9zZXN0KFNlbGVjdG9yLk5BVkJBUl9OQVYpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAkKGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuKCkub24oJ21vdXNlb3ZlcicsIG51bGwsICQubm9vcCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuZm9jdXMoKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcblxuICAgICAgJCh0aGlzLl9tZW51KS50b2dnbGVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICAkKHBhcmVudCkudG9nZ2xlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpLnRyaWdnZXIoJC5FdmVudChFdmVudC5TSE9XTiwgcmVsYXRlZFRhcmdldCkpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICBpZiAodGhpcy5fZWxlbWVudC5kaXNhYmxlZCB8fCAkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5ESVNBQkxFRCkgfHwgJCh0aGlzLl9tZW51KS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcy5fZWxlbWVudFxuICAgICAgfTtcbiAgICAgIHZhciBzaG93RXZlbnQgPSAkLkV2ZW50KEV2ZW50LlNIT1csIHJlbGF0ZWRUYXJnZXQpO1xuXG4gICAgICB2YXIgcGFyZW50ID0gRHJvcGRvd24uX2dldFBhcmVudEZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgICAkKHBhcmVudCkudHJpZ2dlcihzaG93RXZlbnQpO1xuXG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJCh0aGlzLl9tZW51KS50b2dnbGVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICAkKHBhcmVudCkudG9nZ2xlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpLnRyaWdnZXIoJC5FdmVudChFdmVudC5TSE9XTiwgcmVsYXRlZFRhcmdldCkpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICBpZiAodGhpcy5fZWxlbWVudC5kaXNhYmxlZCB8fCAkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5ESVNBQkxFRCkgfHwgISQodGhpcy5fbWVudSkuaGFzQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMuX2VsZW1lbnRcbiAgICAgIH07XG4gICAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudChFdmVudC5ISURFLCByZWxhdGVkVGFyZ2V0KTtcblxuICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgJChwYXJlbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcblxuICAgICAgaWYgKGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICQodGhpcy5fbWVudSkudG9nZ2xlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuICAgICAgJChwYXJlbnQpLnRvZ2dsZUNsYXNzKENsYXNzTmFtZS5TSE9XKS50cmlnZ2VyKCQuRXZlbnQoRXZlbnQuSElEREVOLCByZWxhdGVkVGFyZ2V0KSk7XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICQucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSk7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLm9mZihFVkVOVF9LRVkpO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9tZW51ID0gbnVsbDtcblxuICAgICAgaWYgKHRoaXMuX3BvcHBlciAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9wb3BwZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMuX3BvcHBlciA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICB0aGlzLl9pbk5hdmJhciA9IHRoaXMuX2RldGVjdE5hdmJhcigpO1xuXG4gICAgICBpZiAodGhpcy5fcG9wcGVyICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3BvcHBlci5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fYWRkRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LkNMSUNLLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgX3RoaXMudG9nZ2xlKCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0LCAkKHRoaXMuX2VsZW1lbnQpLmRhdGEoKSwgY29uZmlnKTtcbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSk7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldE1lbnVFbGVtZW50ID0gZnVuY3Rpb24gX2dldE1lbnVFbGVtZW50KCkge1xuICAgICAgaWYgKCF0aGlzLl9tZW51KSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgIHRoaXMuX21lbnUgPSBwYXJlbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5NRU5VKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fbWVudTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRQbGFjZW1lbnQgPSBmdW5jdGlvbiBfZ2V0UGxhY2VtZW50KCkge1xuICAgICAgdmFyICRwYXJlbnREcm9wZG93biA9ICQodGhpcy5fZWxlbWVudC5wYXJlbnROb2RlKTtcbiAgICAgIHZhciBwbGFjZW1lbnQgPSBBdHRhY2htZW50TWFwLkJPVFRPTTsgLy8gSGFuZGxlIGRyb3B1cFxuXG4gICAgICBpZiAoJHBhcmVudERyb3Bkb3duLmhhc0NsYXNzKENsYXNzTmFtZS5EUk9QVVApKSB7XG4gICAgICAgIHBsYWNlbWVudCA9IEF0dGFjaG1lbnRNYXAuVE9QO1xuXG4gICAgICAgIGlmICgkKHRoaXMuX21lbnUpLmhhc0NsYXNzKENsYXNzTmFtZS5NRU5VUklHSFQpKSB7XG4gICAgICAgICAgcGxhY2VtZW50ID0gQXR0YWNobWVudE1hcC5UT1BFTkQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoJHBhcmVudERyb3Bkb3duLmhhc0NsYXNzKENsYXNzTmFtZS5EUk9QUklHSFQpKSB7XG4gICAgICAgIHBsYWNlbWVudCA9IEF0dGFjaG1lbnRNYXAuUklHSFQ7XG4gICAgICB9IGVsc2UgaWYgKCRwYXJlbnREcm9wZG93bi5oYXNDbGFzcyhDbGFzc05hbWUuRFJPUExFRlQpKSB7XG4gICAgICAgIHBsYWNlbWVudCA9IEF0dGFjaG1lbnRNYXAuTEVGVDtcbiAgICAgIH0gZWxzZSBpZiAoJCh0aGlzLl9tZW51KS5oYXNDbGFzcyhDbGFzc05hbWUuTUVOVVJJR0hUKSkge1xuICAgICAgICBwbGFjZW1lbnQgPSBBdHRhY2htZW50TWFwLkJPVFRPTUVORDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBsYWNlbWVudDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9kZXRlY3ROYXZiYXIgPSBmdW5jdGlvbiBfZGV0ZWN0TmF2YmFyKCkge1xuICAgICAgcmV0dXJuICQodGhpcy5fZWxlbWVudCkuY2xvc2VzdCgnLm5hdmJhcicpLmxlbmd0aCA+IDA7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0T2Zmc2V0ID0gZnVuY3Rpb24gX2dldE9mZnNldCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgb2Zmc2V0ID0ge307XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnLm9mZnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvZmZzZXQuZm4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGRhdGEub2Zmc2V0cyA9IF9vYmplY3RTcHJlYWQoe30sIGRhdGEub2Zmc2V0cywgX3RoaXMyLl9jb25maWcub2Zmc2V0KGRhdGEub2Zmc2V0cywgX3RoaXMyLl9lbGVtZW50KSB8fCB7fSk7XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvZmZzZXQub2Zmc2V0ID0gdGhpcy5fY29uZmlnLm9mZnNldDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRQb3BwZXJDb25maWcgPSBmdW5jdGlvbiBfZ2V0UG9wcGVyQ29uZmlnKCkge1xuICAgICAgdmFyIHBvcHBlckNvbmZpZyA9IHtcbiAgICAgICAgcGxhY2VtZW50OiB0aGlzLl9nZXRQbGFjZW1lbnQoKSxcbiAgICAgICAgbW9kaWZpZXJzOiB7XG4gICAgICAgICAgb2Zmc2V0OiB0aGlzLl9nZXRPZmZzZXQoKSxcbiAgICAgICAgICBmbGlwOiB7XG4gICAgICAgICAgICBlbmFibGVkOiB0aGlzLl9jb25maWcuZmxpcFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgICAgICAgICBib3VuZGFyaWVzRWxlbWVudDogdGhpcy5fY29uZmlnLmJvdW5kYXJ5XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIERpc2FibGUgUG9wcGVyLmpzIGlmIHdlIGhhdmUgYSBzdGF0aWMgZGlzcGxheVxuXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmRpc3BsYXkgPT09ICdzdGF0aWMnKSB7XG4gICAgICAgIHBvcHBlckNvbmZpZy5tb2RpZmllcnMuYXBwbHlTdHlsZSA9IHtcbiAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9wcGVyQ29uZmlnO1xuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgRHJvcGRvd24uX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xuXG4gICAgICAgIHZhciBfY29uZmlnID0gdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgPyBjb25maWcgOiBudWxsO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJCh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBEcm9wZG93bi5fY2xlYXJNZW51cyA9IGZ1bmN0aW9uIF9jbGVhck1lbnVzKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQgJiYgKGV2ZW50LndoaWNoID09PSBSSUdIVF9NT1VTRV9CVVRUT05fV0hJQ0ggfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC53aGljaCAhPT0gVEFCX0tFWUNPREUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRvZ2dsZXMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuREFUQV9UT0dHTEUpKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRvZ2dsZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0b2dnbGVzW2ldKTtcblxuICAgICAgICB2YXIgY29udGV4dCA9ICQodG9nZ2xlc1tpXSkuZGF0YShEQVRBX0tFWSk7XG4gICAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0ge1xuICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRvZ2dsZXNbaV1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgIHJlbGF0ZWRUYXJnZXQuY2xpY2tFdmVudCA9IGV2ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZHJvcGRvd25NZW51ID0gY29udGV4dC5fbWVudTtcblxuICAgICAgICBpZiAoISQocGFyZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVykpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2NsaWNrJyAmJiAvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGV2ZW50LnRhcmdldC50YWdOYW1lKSB8fCBldmVudC50eXBlID09PSAna2V5dXAnICYmIGV2ZW50LndoaWNoID09PSBUQUJfS0VZQ09ERSkgJiYgJC5jb250YWlucyhwYXJlbnQsIGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoaWRlRXZlbnQgPSAkLkV2ZW50KEV2ZW50LkhJREUsIHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICAkKHBhcmVudCkudHJpZ2dlcihoaWRlRXZlbnQpO1xuXG4gICAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgcmVtb3ZlIHRoZSBleHRyYVxuICAgICAgICAvLyBlbXB0eSBtb3VzZW92ZXIgbGlzdGVuZXJzIHdlIGFkZGVkIGZvciBpT1Mgc3VwcG9ydFxuXG5cbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vZmYoJ21vdXNlb3ZlcicsIG51bGwsICQubm9vcCk7XG4gICAgICAgIH1cblxuICAgICAgICB0b2dnbGVzW2ldLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICAkKGRyb3Bkb3duTWVudSkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuICAgICAgICAkKHBhcmVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpLnRyaWdnZXIoJC5FdmVudChFdmVudC5ISURERU4sIHJlbGF0ZWRUYXJnZXQpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgRHJvcGRvd24uX2dldFBhcmVudEZyb21FbGVtZW50ID0gZnVuY3Rpb24gX2dldFBhcmVudEZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIHZhciBwYXJlbnQ7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcmVudCB8fCBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICAgIDtcblxuICAgIERyb3Bkb3duLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIgPSBmdW5jdGlvbiBfZGF0YUFwaUtleWRvd25IYW5kbGVyKGV2ZW50KSB7XG4gICAgICAvLyBJZiBub3QgaW5wdXQvdGV4dGFyZWE6XG4gICAgICAvLyAgLSBBbmQgbm90IGEga2V5IGluIFJFR0VYUF9LRVlET1dOID0+IG5vdCBhIGRyb3Bkb3duIGNvbW1hbmRcbiAgICAgIC8vIElmIGlucHV0L3RleHRhcmVhOlxuICAgICAgLy8gIC0gSWYgc3BhY2Uga2V5ID0+IG5vdCBhIGRyb3Bkb3duIGNvbW1hbmRcbiAgICAgIC8vICAtIElmIGtleSBpcyBvdGhlciB0aGFuIGVzY2FwZVxuICAgICAgLy8gICAgLSBJZiBrZXkgaXMgbm90IHVwIG9yIGRvd24gPT4gbm90IGEgZHJvcGRvd24gY29tbWFuZFxuICAgICAgLy8gICAgLSBJZiB0cmlnZ2VyIGluc2lkZSB0aGUgbWVudSA9PiBub3QgYSBkcm9wZG93biBjb21tYW5kXG4gICAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkgPyBldmVudC53aGljaCA9PT0gU1BBQ0VfS0VZQ09ERSB8fCBldmVudC53aGljaCAhPT0gRVNDQVBFX0tFWUNPREUgJiYgKGV2ZW50LndoaWNoICE9PSBBUlJPV19ET1dOX0tFWUNPREUgJiYgZXZlbnQud2hpY2ggIT09IEFSUk9XX1VQX0tFWUNPREUgfHwgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoU2VsZWN0b3IuTUVOVSkubGVuZ3RoKSA6ICFSRUdFWFBfS0VZRE9XTi50ZXN0KGV2ZW50LndoaWNoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgJCh0aGlzKS5oYXNDbGFzcyhDbGFzc05hbWUuRElTQUJMRUQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzKTtcblxuICAgICAgdmFyIGlzQWN0aXZlID0gJChwYXJlbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgaWYgKCFpc0FjdGl2ZSB8fCBpc0FjdGl2ZSAmJiAoZXZlbnQud2hpY2ggPT09IEVTQ0FQRV9LRVlDT0RFIHx8IGV2ZW50LndoaWNoID09PSBTUEFDRV9LRVlDT0RFKSkge1xuICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IEVTQ0FQRV9LRVlDT0RFKSB7XG4gICAgICAgICAgdmFyIHRvZ2dsZSA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLkRBVEFfVE9HR0xFKTtcbiAgICAgICAgICAkKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXRlbXMgPSBbXS5zbGljZS5jYWxsKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLlZJU0lCTEVfSVRFTVMpKTtcblxuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRleCA9IGl0ZW1zLmluZGV4T2YoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBBUlJPV19VUF9LRVlDT0RFICYmIGluZGV4ID4gMCkge1xuICAgICAgICAvLyBVcFxuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQud2hpY2ggPT09IEFSUk9XX0RPV05fS0VZQ09ERSAmJiBpbmRleCA8IGl0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgLy8gRG93blxuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICAgIH1cblxuICAgICAgaXRlbXNbaW5kZXhdLmZvY3VzKCk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhEcm9wZG93biwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFR5cGVcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdFR5cGU7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERyb3Bkb3duO1xuICB9KCk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG5cbiAgJChkb2N1bWVudCkub24oRXZlbnQuS0VZRE9XTl9EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIERyb3Bkb3duLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKEV2ZW50LktFWURPV05fREFUQV9BUEksIFNlbGVjdG9yLk1FTlUsIERyb3Bkb3duLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJICsgXCIgXCIgKyBFdmVudC5LRVlVUF9EQVRBX0FQSSwgRHJvcGRvd24uX2NsZWFyTWVudXMpLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJLCBTZWxlY3Rvci5EQVRBX1RPR0dMRSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIERyb3Bkb3duLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkKHRoaXMpLCAndG9nZ2xlJyk7XG4gIH0pLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJLCBTZWxlY3Rvci5GT1JNX0NISUxELCBmdW5jdGlvbiAoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGpRdWVyeVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgJC5mbltOQU1FXSA9IERyb3Bkb3duLl9qUXVlcnlJbnRlcmZhY2U7XG4gICQuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBEcm9wZG93bjtcblxuICAkLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICByZXR1cm4gRHJvcGRvd24uX2pRdWVyeUludGVyZmFjZTtcbiAgfTtcblxuICByZXR1cm4gRHJvcGRvd247XG5cbn0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRyb3Bkb3duLmpzLm1hcFxuIiwiLyohXG4gICogQm9vdHN0cmFwIG1vZGFsLmpzIHY0LjMuMSAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLylcbiAgKiBDb3B5cmlnaHQgMjAxMS0yMDE5IFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpXG4gICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSwgcmVxdWlyZSgnLi91dGlsLmpzJykpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnanF1ZXJ5JywgJy4vdXRpbC5qcyddLCBmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLk1vZGFsID0gZmFjdG9yeShnbG9iYWwualF1ZXJ5LCBnbG9iYWwuVXRpbCkpO1xufSh0aGlzLCBmdW5jdGlvbiAoJCwgVXRpbCkgeyAndXNlIHN0cmljdCc7XG5cbiAgJCA9ICQgJiYgJC5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpID8gJFsnZGVmYXVsdCddIDogJDtcbiAgVXRpbCA9IFV0aWwgJiYgVXRpbC5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpID8gVXRpbFsnZGVmYXVsdCddIDogVXRpbDtcblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgdmFyIE5BTUUgPSAnbW9kYWwnO1xuICB2YXIgVkVSU0lPTiA9ICc0LjMuMSc7XG4gIHZhciBEQVRBX0tFWSA9ICdicy5tb2RhbCc7XG4gIHZhciBFVkVOVF9LRVkgPSBcIi5cIiArIERBVEFfS0VZO1xuICB2YXIgREFUQV9BUElfS0VZID0gJy5kYXRhLWFwaSc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkLmZuW05BTUVdO1xuICB2YXIgRVNDQVBFX0tFWUNPREUgPSAyNzsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgRXNjYXBlIChFc2MpIGtleVxuXG4gIHZhciBEZWZhdWx0ID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIGZvY3VzOiB0cnVlLFxuICAgIHNob3c6IHRydWVcbiAgfTtcbiAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgIGJhY2tkcm9wOiAnKGJvb2xlYW58c3RyaW5nKScsXG4gICAga2V5Ym9hcmQ6ICdib29sZWFuJyxcbiAgICBmb2N1czogJ2Jvb2xlYW4nLFxuICAgIHNob3c6ICdib29sZWFuJ1xuICB9O1xuICB2YXIgRXZlbnQgPSB7XG4gICAgSElERTogXCJoaWRlXCIgKyBFVkVOVF9LRVksXG4gICAgSElEREVOOiBcImhpZGRlblwiICsgRVZFTlRfS0VZLFxuICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZLFxuICAgIFNIT1dOOiBcInNob3duXCIgKyBFVkVOVF9LRVksXG4gICAgRk9DVVNJTjogXCJmb2N1c2luXCIgKyBFVkVOVF9LRVksXG4gICAgUkVTSVpFOiBcInJlc2l6ZVwiICsgRVZFTlRfS0VZLFxuICAgIENMSUNLX0RJU01JU1M6IFwiY2xpY2suZGlzbWlzc1wiICsgRVZFTlRfS0VZLFxuICAgIEtFWURPV05fRElTTUlTUzogXCJrZXlkb3duLmRpc21pc3NcIiArIEVWRU5UX0tFWSxcbiAgICBNT1VTRVVQX0RJU01JU1M6IFwibW91c2V1cC5kaXNtaXNzXCIgKyBFVkVOVF9LRVksXG4gICAgTU9VU0VET1dOX0RJU01JU1M6IFwibW91c2Vkb3duLmRpc21pc3NcIiArIEVWRU5UX0tFWSxcbiAgICBDTElDS19EQVRBX0FQSTogXCJjbGlja1wiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZXG4gIH07XG4gIHZhciBDbGFzc05hbWUgPSB7XG4gICAgU0NST0xMQUJMRTogJ21vZGFsLWRpYWxvZy1zY3JvbGxhYmxlJyxcbiAgICBTQ1JPTExCQVJfTUVBU1VSRVI6ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZScsXG4gICAgQkFDS0RST1A6ICdtb2RhbC1iYWNrZHJvcCcsXG4gICAgT1BFTjogJ21vZGFsLW9wZW4nLFxuICAgIEZBREU6ICdmYWRlJyxcbiAgICBTSE9XOiAnc2hvdydcbiAgfTtcbiAgdmFyIFNlbGVjdG9yID0ge1xuICAgIERJQUxPRzogJy5tb2RhbC1kaWFsb2cnLFxuICAgIE1PREFMX0JPRFk6ICcubW9kYWwtYm9keScsXG4gICAgREFUQV9UT0dHTEU6ICdbZGF0YS10b2dnbGU9XCJtb2RhbFwiXScsXG4gICAgREFUQV9ESVNNSVNTOiAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJyxcbiAgICBGSVhFRF9DT05URU5UOiAnLmZpeGVkLXRvcCwgLmZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkLCAuc3RpY2t5LXRvcCcsXG4gICAgU1RJQ0tZX0NPTlRFTlQ6ICcuc3RpY2t5LXRvcCdcbiAgICAvKipcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG5cbiAgfTtcblxuICB2YXIgTW9kYWwgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RhbChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9kaWFsb2cgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuRElBTE9HKTtcbiAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2U7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gMDtcbiAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgdmFyIF9wcm90byA9IE1vZGFsLnByb3RvdHlwZTtcblxuICAgIC8vIFB1YmxpY1xuICAgIF9wcm90by50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUocmVsYXRlZFRhcmdldCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzU2hvd24gPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdyhyZWxhdGVkVGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duIHx8IHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICgkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKSkge1xuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudChFdmVudC5TSE9XLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXRcbiAgICAgIH0pO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duIHx8IHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuXG4gICAgICB0aGlzLl9jaGVja1Njcm9sbGJhcigpO1xuXG4gICAgICB0aGlzLl9zZXRTY3JvbGxiYXIoKTtcblxuICAgICAgdGhpcy5fYWRqdXN0RGlhbG9nKCk7XG5cbiAgICAgIHRoaXMuX3NldEVzY2FwZUV2ZW50KCk7XG5cbiAgICAgIHRoaXMuX3NldFJlc2l6ZUV2ZW50KCk7XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkub24oRXZlbnQuQ0xJQ0tfRElTTUlTUywgU2VsZWN0b3IuREFUQV9ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmhpZGUoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgICAkKHRoaXMuX2RpYWxvZykub24oRXZlbnQuTU9VU0VET1dOX0RJU01JU1MsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChfdGhpcy5fZWxlbWVudCkub25lKEV2ZW50Lk1PVVNFVVBfRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5pcyhfdGhpcy5fZWxlbWVudCkpIHtcbiAgICAgICAgICAgIF90aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3Nob3dCYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5fc2hvd0VsZW1lbnQocmVsYXRlZFRhcmdldCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmhpZGUgPSBmdW5jdGlvbiBoaWRlKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faXNTaG93biB8fCB0aGlzLl9pc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudChFdmVudC5ISURFKTtcbiAgICAgICQodGhpcy5fZWxlbWVudCkudHJpZ2dlcihoaWRlRXZlbnQpO1xuXG4gICAgICBpZiAoIXRoaXMuX2lzU2hvd24gfHwgaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgdmFyIHRyYW5zaXRpb24gPSAkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKTtcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcblxuICAgICAgdGhpcy5fc2V0UmVzaXplRXZlbnQoKTtcblxuICAgICAgJChkb2N1bWVudCkub2ZmKEV2ZW50LkZPQ1VTSU4pO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLm9mZihFdmVudC5DTElDS19ESVNNSVNTKTtcbiAgICAgICQodGhpcy5fZGlhbG9nKS5vZmYoRXZlbnQuTU9VU0VET1dOX0RJU01JU1MpO1xuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5faGlkZU1vZGFsKGV2ZW50KTtcbiAgICAgICAgfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hpZGVNb2RhbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICBbd2luZG93LCB0aGlzLl9lbGVtZW50LCB0aGlzLl9kaWFsb2ddLmZvckVhY2goZnVuY3Rpb24gKGh0bWxFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiAkKGh0bWxFbGVtZW50KS5vZmYoRVZFTlRfS0VZKTtcbiAgICAgIH0pO1xuICAgICAgLyoqXG4gICAgICAgKiBgZG9jdW1lbnRgIGhhcyAyIGV2ZW50cyBgRXZlbnQuRk9DVVNJTmAgYW5kIGBFdmVudC5DTElDS19EQVRBX0FQSWBcbiAgICAgICAqIERvIG5vdCBtb3ZlIGBkb2N1bWVudGAgaW4gYGh0bWxFbGVtZW50c2AgYXJyYXlcbiAgICAgICAqIEl0IHdpbGwgcmVtb3ZlIGBFdmVudC5DTElDS19EQVRBX0FQSWAgZXZlbnQgdGhhdCBzaG91bGQgcmVtYWluXG4gICAgICAgKi9cblxuICAgICAgJChkb2N1bWVudCkub2ZmKEV2ZW50LkZPQ1VTSU4pO1xuICAgICAgJC5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZKTtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IG51bGw7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2RpYWxvZyA9IG51bGw7XG4gICAgICB0aGlzLl9iYWNrZHJvcCA9IG51bGw7XG4gICAgICB0aGlzLl9pc1Nob3duID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gbnVsbDtcbiAgICAgIHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBudWxsO1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gbnVsbDtcbiAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gbnVsbDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmhhbmRsZVVwZGF0ZSA9IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuX2FkanVzdERpYWxvZygpO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsIGNvbmZpZyk7XG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIERlZmF1bHRUeXBlKTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIF9wcm90by5fc2hvd0VsZW1lbnQgPSBmdW5jdGlvbiBfc2hvd0VsZW1lbnQocmVsYXRlZFRhcmdldCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciB0cmFuc2l0aW9uID0gJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSk7XG5cbiAgICAgIGlmICghdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlIHx8IHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgLy8gRG9uJ3QgbW92ZSBtb2RhbCdzIERPTSBwb3NpdGlvblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnLCB0cnVlKTtcblxuICAgICAgaWYgKCQodGhpcy5fZGlhbG9nKS5oYXNDbGFzcyhDbGFzc05hbWUuU0NST0xMQUJMRSkpIHtcbiAgICAgICAgdGhpcy5fZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuTU9EQUxfQk9EWSkuc2Nyb2xsVG9wID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc2Nyb2xsVG9wID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgVXRpbC5yZWZsb3codGhpcy5fZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgICQodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmZvY3VzKSB7XG4gICAgICAgIHRoaXMuX2VuZm9yY2VGb2N1cygpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hvd25FdmVudCA9ICQuRXZlbnQoRXZlbnQuU0hPV04sIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldFxuICAgICAgfSk7XG5cbiAgICAgIHZhciB0cmFuc2l0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiB0cmFuc2l0aW9uQ29tcGxldGUoKSB7XG4gICAgICAgIGlmIChfdGhpczMuX2NvbmZpZy5mb2N1cykge1xuICAgICAgICAgIF90aGlzMy5fZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgICAgJChfdGhpczMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd25FdmVudCk7XG4gICAgICB9O1xuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9kaWFsb2cpO1xuICAgICAgICAkKHRoaXMuX2RpYWxvZykub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIHRyYW5zaXRpb25Db21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zaXRpb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2VuZm9yY2VGb2N1cyA9IGZ1bmN0aW9uIF9lbmZvcmNlRm9jdXMoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgJChkb2N1bWVudCkub2ZmKEV2ZW50LkZPQ1VTSU4pIC8vIEd1YXJkIGFnYWluc3QgaW5maW5pdGUgZm9jdXMgbG9vcFxuICAgICAgLm9uKEV2ZW50LkZPQ1VTSU4sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQgIT09IGV2ZW50LnRhcmdldCAmJiBfdGhpczQuX2VsZW1lbnQgIT09IGV2ZW50LnRhcmdldCAmJiAkKF90aGlzNC5fZWxlbWVudCkuaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgX3RoaXM0Ll9lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldEVzY2FwZUV2ZW50ID0gZnVuY3Rpb24gX3NldEVzY2FwZUV2ZW50KCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duICYmIHRoaXMuX2NvbmZpZy5rZXlib2FyZCkge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LktFWURPV05fRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgX3RoaXM1LmhpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTaG93bikge1xuICAgICAgICAkKHRoaXMuX2VsZW1lbnQpLm9mZihFdmVudC5LRVlET1dOX0RJU01JU1MpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldFJlc2l6ZUV2ZW50ID0gZnVuY3Rpb24gX3NldFJlc2l6ZUV2ZW50KCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICQod2luZG93KS5vbihFdmVudC5SRVNJWkUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczYuaGFuZGxlVXBkYXRlKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKHdpbmRvdykub2ZmKEV2ZW50LlJFU0laRSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5faGlkZU1vZGFsID0gZnVuY3Rpb24gX2hpZGVNb2RhbCgpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcpO1xuXG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChkb2N1bWVudC5ib2R5KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuT1BFTik7XG5cbiAgICAgICAgX3RoaXM3Ll9yZXNldEFkanVzdG1lbnRzKCk7XG5cbiAgICAgICAgX3RoaXM3Ll9yZXNldFNjcm9sbGJhcigpO1xuXG4gICAgICAgICQoX3RoaXM3Ll9lbGVtZW50KS50cmlnZ2VyKEV2ZW50LkhJRERFTik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9yZW1vdmVCYWNrZHJvcCA9IGZ1bmN0aW9uIF9yZW1vdmVCYWNrZHJvcCgpIHtcbiAgICAgIGlmICh0aGlzLl9iYWNrZHJvcCkge1xuICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3Nob3dCYWNrZHJvcCA9IGZ1bmN0aW9uIF9zaG93QmFja2Ryb3AoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICB2YXIgYW5pbWF0ZSA9ICQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpID8gQ2xhc3NOYW1lLkZBREUgOiAnJztcblxuICAgICAgaWYgKHRoaXMuX2lzU2hvd24gJiYgdGhpcy5fY29uZmlnLmJhY2tkcm9wKSB7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuX2JhY2tkcm9wLmNsYXNzTmFtZSA9IENsYXNzTmFtZS5CQUNLRFJPUDtcblxuICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgIHRoaXMuX2JhY2tkcm9wLmNsYXNzTGlzdC5hZGQoYW5pbWF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAkKHRoaXMuX2JhY2tkcm9wKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5DTElDS19ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoX3RoaXM4Ll9pZ25vcmVCYWNrZHJvcENsaWNrKSB7XG4gICAgICAgICAgICBfdGhpczguX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF90aGlzOC5fY29uZmlnLmJhY2tkcm9wID09PSAnc3RhdGljJykge1xuICAgICAgICAgICAgX3RoaXM4Ll9lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzOC5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2JhY2tkcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbmltYXRlKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFja2Ryb3BUcmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2JhY2tkcm9wKTtcbiAgICAgICAgJCh0aGlzLl9iYWNrZHJvcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNhbGxiYWNrKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChiYWNrZHJvcFRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc1Nob3duICYmIHRoaXMuX2JhY2tkcm9wKSB7XG4gICAgICAgICQodGhpcy5fYmFja2Ryb3ApLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiBjYWxsYmFja1JlbW92ZSgpIHtcbiAgICAgICAgICBfdGhpczguX3JlbW92ZUJhY2tkcm9wKCk7XG5cbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKSkge1xuICAgICAgICAgIHZhciBfYmFja2Ryb3BUcmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2JhY2tkcm9wKTtcblxuICAgICAgICAgICQodGhpcy5fYmFja2Ryb3ApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjYWxsYmFja1JlbW92ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoX2JhY2tkcm9wVHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFja1JlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gdGhlIGZvbGxvd2luZyBtZXRob2RzIGFyZSB1c2VkIHRvIGhhbmRsZSBvdmVyZmxvd2luZyBtb2RhbHNcbiAgICAvLyB0b2RvIChmYXQpOiB0aGVzZSBzaG91bGQgcHJvYmFibHkgYmUgcmVmYWN0b3JlZCBvdXQgb2YgbW9kYWwuanNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgO1xuXG4gICAgX3Byb3RvLl9hZGp1c3REaWFsb2cgPSBmdW5jdGlvbiBfYWRqdXN0RGlhbG9nKCkge1xuICAgICAgdmFyIGlzTW9kYWxPdmVyZmxvd2luZyA9IHRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgICAgaWYgKCF0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyAmJiBpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdCA9IHRoaXMuX3Njcm9sbGJhcldpZHRoICsgXCJweFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgJiYgIWlzTW9kYWxPdmVyZmxvd2luZykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9IHRoaXMuX3Njcm9sbGJhcldpZHRoICsgXCJweFwiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3Jlc2V0QWRqdXN0bWVudHMgPSBmdW5jdGlvbiBfcmVzZXRBZGp1c3RtZW50cygpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSAnJztcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJyc7XG4gICAgfTtcblxuICAgIF9wcm90by5fY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiBfY2hlY2tTY3JvbGxiYXIoKSB7XG4gICAgICB2YXIgcmVjdCA9IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyA9IHJlY3QubGVmdCArIHJlY3QucmlnaHQgPCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gdGhpcy5fZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiBfc2V0U2Nyb2xsYmFyKCkge1xuICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc0JvZHlPdmVyZmxvd2luZykge1xuICAgICAgICAvLyBOb3RlOiBET01Ob2RlLnN0eWxlLnBhZGRpbmdSaWdodCByZXR1cm5zIHRoZSBhY3R1YWwgdmFsdWUgb3IgJycgaWYgbm90IHNldFxuICAgICAgICAvLyAgIHdoaWxlICQoRE9NTm9kZSkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgcmV0dXJucyB0aGUgY2FsY3VsYXRlZCB2YWx1ZSBvciAwIGlmIG5vdCBzZXRcbiAgICAgICAgdmFyIGZpeGVkQ29udGVudCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5GSVhFRF9DT05URU5UKSk7XG4gICAgICAgIHZhciBzdGlja3lDb250ZW50ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLlNUSUNLWV9DT05URU5UKSk7IC8vIEFkanVzdCBmaXhlZCBjb250ZW50IHBhZGRpbmdcblxuICAgICAgICAkKGZpeGVkQ29udGVudCkuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgYWN0dWFsUGFkZGluZyA9IGVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0O1xuICAgICAgICAgIHZhciBjYWxjdWxhdGVkUGFkZGluZyA9ICQoZWxlbWVudCkuY3NzKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgICAgJChlbGVtZW50KS5kYXRhKCdwYWRkaW5nLXJpZ2h0JywgYWN0dWFsUGFkZGluZykuY3NzKCdwYWRkaW5nLXJpZ2h0JywgcGFyc2VGbG9hdChjYWxjdWxhdGVkUGFkZGluZykgKyBfdGhpczkuX3Njcm9sbGJhcldpZHRoICsgXCJweFwiKTtcbiAgICAgICAgfSk7IC8vIEFkanVzdCBzdGlja3kgY29udGVudCBtYXJnaW5cblxuICAgICAgICAkKHN0aWNreUNvbnRlbnQpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGFjdHVhbE1hcmdpbiA9IGVsZW1lbnQuc3R5bGUubWFyZ2luUmlnaHQ7XG4gICAgICAgICAgdmFyIGNhbGN1bGF0ZWRNYXJnaW4gPSAkKGVsZW1lbnQpLmNzcygnbWFyZ2luLXJpZ2h0Jyk7XG4gICAgICAgICAgJChlbGVtZW50KS5kYXRhKCdtYXJnaW4tcmlnaHQnLCBhY3R1YWxNYXJnaW4pLmNzcygnbWFyZ2luLXJpZ2h0JywgcGFyc2VGbG9hdChjYWxjdWxhdGVkTWFyZ2luKSAtIF90aGlzOS5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCIpO1xuICAgICAgICB9KTsgLy8gQWRqdXN0IGJvZHkgcGFkZGluZ1xuXG4gICAgICAgIHZhciBhY3R1YWxQYWRkaW5nID0gZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ7XG4gICAgICAgIHZhciBjYWxjdWxhdGVkUGFkZGluZyA9ICQoZG9jdW1lbnQuYm9keSkuY3NzKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgICQoZG9jdW1lbnQuYm9keSkuZGF0YSgncGFkZGluZy1yaWdodCcsIGFjdHVhbFBhZGRpbmcpLmNzcygncGFkZGluZy1yaWdodCcsIHBhcnNlRmxvYXQoY2FsY3VsYXRlZFBhZGRpbmcpICsgdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCIpO1xuICAgICAgfVxuXG4gICAgICAkKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKENsYXNzTmFtZS5PUEVOKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9yZXNldFNjcm9sbGJhciA9IGZ1bmN0aW9uIF9yZXNldFNjcm9sbGJhcigpIHtcbiAgICAgIC8vIFJlc3RvcmUgZml4ZWQgY29udGVudCBwYWRkaW5nXG4gICAgICB2YXIgZml4ZWRDb250ZW50ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkZJWEVEX0NPTlRFTlQpKTtcbiAgICAgICQoZml4ZWRDb250ZW50KS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xuICAgICAgICB2YXIgcGFkZGluZyA9ICQoZWxlbWVudCkuZGF0YSgncGFkZGluZy1yaWdodCcpO1xuICAgICAgICAkKGVsZW1lbnQpLnJlbW92ZURhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nID8gcGFkZGluZyA6ICcnO1xuICAgICAgfSk7IC8vIFJlc3RvcmUgc3RpY2t5IGNvbnRlbnRcblxuICAgICAgdmFyIGVsZW1lbnRzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiXCIgKyBTZWxlY3Rvci5TVElDS1lfQ09OVEVOVCkpO1xuICAgICAgJChlbGVtZW50cykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG1hcmdpbiA9ICQoZWxlbWVudCkuZGF0YSgnbWFyZ2luLXJpZ2h0Jyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBtYXJnaW4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgJChlbGVtZW50KS5jc3MoJ21hcmdpbi1yaWdodCcsIG1hcmdpbikucmVtb3ZlRGF0YSgnbWFyZ2luLXJpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBSZXN0b3JlIGJvZHkgcGFkZGluZ1xuXG4gICAgICB2YXIgcGFkZGluZyA9ICQoZG9jdW1lbnQuYm9keSkuZGF0YSgncGFkZGluZy1yaWdodCcpO1xuICAgICAgJChkb2N1bWVudC5ib2R5KS5yZW1vdmVEYXRhKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IHBhZGRpbmcgPyBwYWRkaW5nIDogJyc7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0U2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbiBfZ2V0U2Nyb2xsYmFyV2lkdGgoKSB7XG4gICAgICAvLyB0aHggZC53YWxzaFxuICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9IENsYXNzTmFtZS5TQ1JPTExCQVJfTUVBU1VSRVI7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbERpdik7XG4gICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG4gICAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcsIHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgdmFyIF9jb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBEZWZhdWx0LCAkKHRoaXMpLmRhdGEoKSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgTW9kYWwodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJCh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICB9IGVsc2UgaWYgKF9jb25maWcuc2hvdykge1xuICAgICAgICAgIGRhdGEuc2hvdyhyZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhNb2RhbCwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTW9kYWw7XG4gIH0oKTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICAkKGRvY3VtZW50KS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBfdGhpczEwID0gdGhpcztcblxuICAgIHZhciB0YXJnZXQ7XG4gICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpO1xuXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICB2YXIgY29uZmlnID0gJCh0YXJnZXQpLmRhdGEoREFUQV9LRVkpID8gJ3RvZ2dsZScgOiBfb2JqZWN0U3ByZWFkKHt9LCAkKHRhcmdldCkuZGF0YSgpLCAkKHRoaXMpLmRhdGEoKSk7XG5cbiAgICBpZiAodGhpcy50YWdOYW1lID09PSAnQScgfHwgdGhpcy50YWdOYW1lID09PSAnQVJFQScpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdmFyICR0YXJnZXQgPSAkKHRhcmdldCkub25lKEV2ZW50LlNIT1csIGZ1bmN0aW9uIChzaG93RXZlbnQpIHtcbiAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgLy8gT25seSByZWdpc3RlciBmb2N1cyByZXN0b3JlciBpZiBtb2RhbCB3aWxsIGFjdHVhbGx5IGdldCBzaG93blxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICR0YXJnZXQub25lKEV2ZW50LkhJRERFTiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJChfdGhpczEwKS5pcygnOnZpc2libGUnKSkge1xuICAgICAgICAgIF90aGlzMTAuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCh0YXJnZXQpLCBjb25maWcsIHRoaXMpO1xuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gICQuZm5bTkFNRV0gPSBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlO1xuICAkLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gTW9kYWw7XG5cbiAgJC5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgcmV0dXJuIE1vZGFsLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgcmV0dXJuIE1vZGFsO1xuXG59KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RhbC5qcy5tYXBcbiJdfQ==
